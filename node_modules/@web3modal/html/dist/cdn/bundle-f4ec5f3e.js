const qe=Symbol(),Ie=Object.getPrototypeOf,de=new WeakMap,Qe=t=>t&&(de.has(t)?de.get(t):Ie(t)===Object.prototype||Ie(t)===Array.prototype),er=t=>Qe(t)&&t[qe]||null,Ae=(t,e=!0)=>{de.set(t,e)},ue=t=>typeof t=="object"&&t!==null,k=new WeakMap,Q=new WeakSet,rr=(t=Object.is,e=(c,h)=>new Proxy(c,h),r=c=>ue(c)&&!Q.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),n=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},i=new WeakMap,o=(c,h,f=n)=>{const g=i.get(c);if(g?.[0]===h)return g[1];const m=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return Ae(m,!0),i.set(c,[h,m]),Reflect.ownKeys(c).forEach(U=>{if(Object.getOwnPropertyDescriptor(m,U))return;const P=Reflect.get(c,U),Y={value:P,enumerable:!0,configurable:!0};if(Q.has(P))Ae(P,!1);else if(P instanceof Promise)delete Y.value,Y.get=()=>f(P);else if(k.has(P)){const[_,le]=k.get(P);Y.value=o(_,le(),f)}Object.defineProperty(m,U,Y)}),m},s=new WeakMap,l=[1,1],u=c=>{if(!ue(c))throw new Error("object required");const h=s.get(c);if(h)return h;let f=l[0];const g=new Set,m=(w,d=++l[0])=>{f!==d&&(f=d,g.forEach(p=>p(w,d)))};let U=l[1];const P=(w=++l[1])=>(U!==w&&!g.size&&(U=w,_.forEach(([d])=>{const p=d[1](w);p>f&&(f=p)})),f),Y=w=>(d,p)=>{const F=[...d];F[1]=[w,...F[1]],m(F,p)},_=new Map,le=(w,d)=>{if((import.meta.env&&import.meta.env.MODE)!=="production"&&_.has(w))throw new Error("prop listener already exists");if(g.size){const p=d[3](Y(w));_.set(w,[d,p])}else _.set(w,[d])},ye=w=>{var d;const p=_.get(w);p&&(_.delete(w),(d=p[1])==null||d.call(p))},Xe=w=>(g.add(w),g.size===1&&_.forEach(([p,F],z)=>{if((import.meta.env&&import.meta.env.MODE)!=="production"&&F)throw new Error("remove already exists");const G=p[3](Y(z));_.set(z,[p,G])}),()=>{g.delete(w),g.size===0&&_.forEach(([p,F],z)=>{F&&(F(),_.set(z,[p]))})}),ce=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),Z=e(ce,{deleteProperty(w,d){const p=Reflect.get(w,d);ye(d);const F=Reflect.deleteProperty(w,d);return F&&m(["delete",[d],p]),F},set(w,d,p,F){const z=Reflect.has(w,d),G=Reflect.get(w,d,F);if(z&&(t(G,p)||s.has(p)&&t(G,s.get(p))))return!0;ye(d),ue(p)&&(p=er(p)||p);let q=p;if(p instanceof Promise)p.then(O=>{p.status="fulfilled",p.value=O,m(["resolve",[d],O])}).catch(O=>{p.status="rejected",p.reason=O,m(["reject",[d],O])});else{!k.has(p)&&r(p)&&(q=u(p));const O=!Q.has(q)&&k.get(q);O&&le(d,O)}return Reflect.set(w,d,q,F),m(["set",[d],p,G]),!0}});s.set(c,Z);const Ze=[ce,P,o,Xe];return k.set(Z,Ze),Reflect.ownKeys(c).forEach(w=>{const d=Object.getOwnPropertyDescriptor(c,w);"value"in d&&(Z[w]=c[w],delete d.value,delete d.writable),Object.defineProperty(ce,w,d)}),Z})=>[u,k,Q,t,e,r,n,i,o,s,l],[tr]=rr();function B(t={}){return tr(t)}function W(t,e,r){const n=k.get(t);(import.meta.env&&import.meta.env.MODE)!=="production"&&!n&&console.warn("Please use proxy object");let i;const o=[],s=n[3];let l=!1;const c=s(h=>{if(o.push(h),r){e(o.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,l&&e(o.splice(0))}))});return l=!0,()=>{l=!1,c()}}function nr(t,e){const r=k.get(t);(import.meta.env&&import.meta.env.MODE)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,o]=r;return o(n,i(),e)}var ve=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},T=[],b=[],ir=typeof Uint8Array<"u"?Uint8Array:Array,me=!1;function Be(){me=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)T[e]=t[e],b[t.charCodeAt(e)]=e;b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63}function or(t){me||Be();var e,r,n,i,o,s,l=t.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=t[l-2]==="="?2:t[l-1]==="="?1:0,s=new ir(l*3/4-o),n=o>0?l-4:l;var u=0;for(e=0,r=0;e<n;e+=4,r+=3)i=b[t.charCodeAt(e)]<<18|b[t.charCodeAt(e+1)]<<12|b[t.charCodeAt(e+2)]<<6|b[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=i&255;return o===2?(i=b[t.charCodeAt(e)]<<2|b[t.charCodeAt(e+1)]>>4,s[u++]=i&255):o===1&&(i=b[t.charCodeAt(e)]<<10|b[t.charCodeAt(e+1)]<<4|b[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=i&255),s}function sr(t){return T[t>>18&63]+T[t>>12&63]+T[t>>6&63]+T[t&63]}function ar(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(sr(n));return i.join("")}function Ce(t){me||Be();for(var e,r=t.length,n=r%3,i="",o=[],s=16383,l=0,u=r-n;l<u;l+=s)o.push(ar(t,l,l+s>u?u:l+s));return n===1?(e=t[r-1],i+=T[e>>2],i+=T[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=T[e>>10],i+=T[e>>4&63],i+=T[e<<2&63],i+="="),o.push(i),o.join("")}function ie(t,e,r,n,i){var o,s,l=i*8-n-1,u=(1<<l)-1,c=u>>1,h=-7,f=r?i-1:0,g=r?-1:1,m=t[e+f];for(f+=g,o=m&(1<<-h)-1,m>>=-h,h+=l;h>0;o=o*256+t[e+f],f+=g,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=s*256+t[e+f],f+=g,h-=8);if(o===0)o=1-c;else{if(o===u)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-c}return(m?-1:1)*s*Math.pow(2,o-n)}function Me(t,e,r,n,i,o){var s,l,u,c=o*8-i-1,h=(1<<c)-1,f=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,U=n?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?e+=g/u:e+=g*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=h?(l=0,s=h):s+f>=1?(l=(e*u-1)*Math.pow(2,i),s=s+f):(l=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+m]=l&255,m+=U,l/=256,i-=8);for(s=s<<i|l,c+=i;c>0;t[r+m]=s&255,m+=U,s/=256,c-=8);t[r+m-U]|=P*128}var lr={}.toString,We=Array.isArray||function(t){return lr.call(t)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var cr=50;a.TYPED_ARRAY_SUPPORT=ve.TYPED_ARRAY_SUPPORT!==void 0?ve.TYPED_ARRAY_SUPPORT:!0;te();function te(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function M(t,e){if(te()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(t===null&&(t=new a(e)),t.length=e),t}function a(t,e,r){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ee(this,t)}return Oe(this,t,e,r)}a.poolSize=8192;a._augment=function(t){return t.__proto__=a.prototype,t};function Oe(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?hr(t,e,r,n):typeof e=="string"?fr(t,e,r):pr(t,e)}a.from=function(t,e,r){return Oe(null,t,e,r)};a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]);function Ne(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function ur(t,e,r,n){return Ne(e),e<=0?M(t,e):r!==void 0?typeof n=="string"?M(t,e).fill(r,n):M(t,e).fill(r):M(t,e)}a.alloc=function(t,e,r){return ur(null,t,e,r)};function Ee(t,e){if(Ne(e),t=M(t,e<0?0:xe(e)|0),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}a.allocUnsafe=function(t){return Ee(null,t)};a.allocUnsafeSlow=function(t){return Ee(null,t)};function fr(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=ke(e,r)|0;t=M(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function we(t,e){var r=e.length<0?0:xe(e.length)|0;t=M(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function hr(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=we(t,e),t}function pr(t,e){if(L(e)){var r=xe(e.length)|0;return t=M(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Tr(e.length)?M(t,0):we(t,e);if(e.type==="Buffer"&&We(e.data))return we(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function xe(t){if(t>=te())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+te().toString(16)+" bytes");return t|0}a.isBuffer=Dr;function L(t){return!!(t!=null&&t._isBuffer)}a.compare=function(e,r){if(!L(e)||!L(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};a.concat=function(e,r){if(!We(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return a.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=a.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!L(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i};function ke(t,e){if(L(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return ne(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return He(t).length;default:if(n)return ne(t).length;e=(""+e).toLowerCase(),n=!0}}a.byteLength=ke;function dr(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Cr(this,e,r);case"utf8":case"utf-8":return Ve(this,e,r);case"ascii":return Ar(this,e,r);case"latin1":case"binary":return vr(this,e,r);case"base64":return yr(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fr(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}a.prototype._isBuffer=!0;function K(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)K(this,r,r+1);return this};a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)K(this,r,r+3),K(this,r+1,r+2);return this};a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)K(this,r,r+7),K(this,r+1,r+6),K(this,r+2,r+5),K(this,r+3,r+4);return this};a.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Ve(this,0,e):dr.apply(this,arguments)};a.prototype.equals=function(e){if(!L(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:a.compare(this,e)===0};a.prototype.inspect=function(){var e="",r=cr;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};a.prototype.compare=function(e,r,n,i,o){if(!L(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,l=n-r,u=Math.min(s,l),c=this.slice(i,o),h=e.slice(r,n),f=0;f<u;++f)if(c[f]!==h[f]){s=c[f],l=h[f];break}return s<l?-1:l<s?1:0};function je(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=a.from(e,n)),L(e))return e.length===0?-1:Fe(t,e,r,n,i);if(typeof e=="number")return e=e&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Fe(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Fe(t,e,r,n,i){var o=1,s=t.length,l=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,r/=2}function u(m,U){return o===1?m[U]:m.readUInt16BE(U*o)}var c;if(i){var h=-1;for(c=r;c<s;c++)if(u(t,c)===u(e,h===-1?0:c-h)){if(h===-1&&(h=c),c-h+1===l)return h*o}else h!==-1&&(c-=c-h),h=-1}else for(r+l>s&&(r=s-l),c=r;c>=0;c--){for(var f=!0,g=0;g<l;g++)if(u(t,c+g)!==u(e,g)){f=!1;break}if(f)return c}return-1}a.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};a.prototype.indexOf=function(e,r,n){return je(this,e,r,n,!0)};a.prototype.lastIndexOf=function(e,r,n){return je(this,e,r,n,!1)};function wr(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var l=parseInt(e.substr(s*2,2),16);if(isNaN(l))return s;t[r+s]=l}return s}function gr(t,e,r,n){return ae(ne(e,t.length-r),t,r,n)}function Ye(t,e,r,n){return ae(br(e),t,r,n)}function mr(t,e,r,n){return Ye(t,e,r,n)}function Er(t,e,r,n){return ae(He(e),t,r,n)}function xr(t,e,r,n){return ae(Pr(e,t.length-r),t,r,n)}a.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return wr(this,e,r,n);case"utf8":case"utf-8":return gr(this,e,r,n);case"ascii":return Ye(this,e,r,n);case"latin1":case"binary":return mr(this,e,r,n);case"base64":return Er(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xr(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function yr(t,e,r){return e===0&&r===t.length?Ce(t):Ce(t.slice(e,r))}function Ve(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],s=null,l=o>239?4:o>223?3:o>191?2:1;if(i+l<=r){var u,c,h,f;switch(l){case 1:o<128&&(s=o);break;case 2:u=t[i+1],(u&192)===128&&(f=(o&31)<<6|u&63,f>127&&(s=f));break;case 3:u=t[i+1],c=t[i+2],(u&192)===128&&(c&192)===128&&(f=(o&15)<<12|(u&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:u=t[i+1],c=t[i+2],h=t[i+3],(u&192)===128&&(c&192)===128&&(h&192)===128&&(f=(o&15)<<18|(u&63)<<12|(c&63)<<6|h&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,l=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=l}return Ir(n)}var Re=4096;function Ir(t){var e=t.length;if(e<=Re)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Re));return r}function Ar(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function vr(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Cr(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=Sr(t[o]);return i}function Fr(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}a.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(a.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=a.prototype;else{var o=r-e;i=new a(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+e]}return i};function I(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||I(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return i};a.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||I(e,r,this.length);for(var i=this[e+--r],o=1;r>0&&(o*=256);)i+=this[e+--r]*o;return i};a.prototype.readUInt8=function(e,r){return r||I(e,1,this.length),this[e]};a.prototype.readUInt16LE=function(e,r){return r||I(e,2,this.length),this[e]|this[e+1]<<8};a.prototype.readUInt16BE=function(e,r){return r||I(e,2,this.length),this[e]<<8|this[e+1]};a.prototype.readUInt32LE=function(e,r){return r||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};a.prototype.readUInt32BE=function(e,r){return r||I(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};a.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||I(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};a.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||I(e,r,this.length);for(var i=r,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};a.prototype.readInt8=function(e,r){return r||I(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};a.prototype.readInt16LE=function(e,r){r||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};a.prototype.readInt16BE=function(e,r){r||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};a.prototype.readInt32LE=function(e,r){return r||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};a.prototype.readInt32BE=function(e,r){return r||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};a.prototype.readFloatLE=function(e,r){return r||I(e,4,this.length),ie(this,e,!0,23,4)};a.prototype.readFloatBE=function(e,r){return r||I(e,4,this.length),ie(this,e,!1,23,4)};a.prototype.readDoubleLE=function(e,r){return r||I(e,8,this.length),ie(this,e,!0,52,8)};a.prototype.readDoubleBE=function(e,r){return r||I(e,8,this.length),ie(this,e,!1,52,8)};function R(t,e,r,n,i,o){if(!L(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;R(this,e,r,n,o,0)}var s=1,l=0;for(this[r]=e&255;++l<n&&(s*=256);)this[r+l]=e/s&255;return r+n};a.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;R(this,e,r,n,o,0)}var s=n-1,l=1;for(this[r+s]=e&255;--s>=0&&(l*=256);)this[r+s]=e/l&255;return r+n};a.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};function oe(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}a.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):oe(this,e,r,!0),r+2};a.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):oe(this,e,r,!1),r+2};function se(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>(n?i:3-i)*8&255}a.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):se(this,e,r,!0),r+4};a.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):se(this,e,r,!1),r+4};a.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var o=Math.pow(2,8*n-1);R(this,e,r,n,o-1,-o)}var s=0,l=1,u=0;for(this[r]=e&255;++s<n&&(l*=256);)e<0&&u===0&&this[r+s-1]!==0&&(u=1),this[r+s]=(e/l>>0)-u&255;return r+n};a.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var o=Math.pow(2,8*n-1);R(this,e,r,n,o-1,-o)}var s=n-1,l=1,u=0;for(this[r+s]=e&255;--s>=0&&(l*=256);)e<0&&u===0&&this[r+s+1]!==0&&(u=1),this[r+s]=(e/l>>0)-u&255;return r+n};a.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};a.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):oe(this,e,r,!0),r+2};a.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):oe(this,e,r,!1),r+2};a.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):se(this,e,r,!0),r+4};a.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||R(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):se(this,e,r,!1),r+4};function $e(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ke(t,e,r,n,i){return i||$e(t,e,r,4),Me(t,e,r,n,23,4),r+4}a.prototype.writeFloatLE=function(e,r,n){return Ke(this,e,r,!0,n)};a.prototype.writeFloatBE=function(e,r,n){return Ke(this,e,r,!1,n)};function ze(t,e,r,n,i){return i||$e(t,e,r,8),Me(t,e,r,n,52,8),r+8}a.prototype.writeDoubleLE=function(e,r,n){return ze(this,e,r,!0,n)};a.prototype.writeDoubleBE=function(e,r,n){return ze(this,e,r,!1,n)};a.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o=i-n,s;if(this===e&&n<r&&r<i)for(s=o-1;s>=0;--s)e[s+r]=this[s+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+r]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),r);return o};a.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var o=e.charCodeAt(0);o<256&&(e=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var l=L(e)?e:ne(new a(e,i).toString()),u=l.length;for(s=0;s<n-r;++s)this[s+r]=l[s%u]}return this};var Rr=/[^+\/0-9A-Za-z-_]/g;function Ur(t){if(t=_r(t).replace(Rr,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function _r(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Sr(t){return t<16?"0"+t.toString(16):t.toString(16)}function ne(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function br(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Pr(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function He(t){return or(Ur(t))}function ae(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Tr(t){return t!==t}function Dr(t){return t!=null&&(!!t._isBuffer||Je(t)||Lr(t))}function Je(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Lr(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Je(t.slice(0,0))}let fe;const D={ethereumClient:void 0,setEthereumClient(t){fe=t},client(){if(fe)return fe;throw new Error("ClientCtrl has no client set")}},y=B({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),$={state:y,subscribe(t){return W(y,()=>t(y))},push(t,e){t!==y.view&&(y.view=t,e&&(y.data=e),y.history.push(t))},reset(t){y.view=t,y.history=[t]},replace(t){y.history.length>1&&(y.history[y.history.length-1]=t,y.view=t)},goBack(){if(y.history.length>1){y.history.pop();const[t]=y.history.slice(-1);y.view=t}},setData(t){y.data=t}},v={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return v.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const t=navigator.userAgent.toLowerCase();return v.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},isArray(t){return Array.isArray(t)&&t.length>0},formatNativeUrl(t,e,r){if(v.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(t,e,r){if(!v.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},async wait(t){return new Promise(e=>{setTimeout(e,t)})},openHref(t,e){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){localStorage.setItem(v.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))},setWalletConnectAndroidDeepLink(t){const[e]=t.split("?");localStorage.setItem(v.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(v.WALLETCONNECT_DEEPLINK_CHOICE)},setWeb3ModalVersionInStorage(){typeof localStorage<"u"&&localStorage.setItem(v.W3M_VERSION,"2.4.7")},getWalletRouterData(){var t;const e=(t=$.state.data)==null?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e},getSwitchNetworkRouterData(){var t;const e=(t=$.state.data)==null?void 0:t.SwitchNetwork;if(!e)throw new Error('Missing "SwitchNetwork" view data');return e},isPreferInjectedFlag(){return typeof location<"u"?new URLSearchParams(location.search).has(v.W3M_PREFER_INJECTED_URL_FLAG):!1}},Br=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),C=B({enabled:Br,userSessionId:"",events:[],connectedWalletId:void 0}),Ge={state:C,subscribe(t){return W(C.events,()=>t(nr(C.events[C.events.length-1])))},initialize(){C.enabled&&typeof crypto<"u"&&(C.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){C.connectedWalletId=t},click(t){if(C.enabled){const e={type:"CLICK",name:t.name,userSessionId:C.userSessionId,timestamp:Date.now(),data:t};C.events.push(e)}},track(t){if(C.enabled){const e={type:"TRACK",name:t.name,userSessionId:C.userSessionId,timestamp:Date.now(),data:t};C.events.push(e)}},view(t){if(C.enabled){const e={type:"VIEW",name:t.name,userSessionId:C.userSessionId,timestamp:Date.now(),data:t};C.events.push(e)}}},A=B({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,isStandalone:!1,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1,walletConnectVersion:1}),x={state:A,subscribe(t){return W(A,()=>t(A))},setChains(t){A.chains=t},setStandaloneChains(t){A.standaloneChains=t},setStandaloneUri(t){A.standaloneUri=t},getSelectedChain(){const t=D.client().getNetwork().chain;return t&&(A.selectedChain=t),A.selectedChain},setSelectedChain(t){A.selectedChain=t},setIsStandalone(t){A.isStandalone=t},setIsCustomDesktop(t){A.isCustomDesktop=t},setIsCustomMobile(t){A.isCustomMobile=t},setIsDataLoaded(t){A.isDataLoaded=t},setIsUiLoaded(t){A.isUiLoaded=t},setWalletConnectVersion(t){A.walletConnectVersion=t},setIsPreferInjected(t){A.isPreferInjected=t},setIsAuth(t){A.isAuth=t}},ee=B({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableAuthMode:!1,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),j={state:ee,subscribe(t){return W(ee,()=>t(ee))},setConfig(t){var e,r,n,i;Ge.initialize(),x.setStandaloneChains(t.standaloneChains),x.setIsStandalone(Boolean((e=t.standaloneChains)==null?void 0:e.length)||Boolean(t.enableStandaloneMode)),x.setIsAuth(Boolean(t.enableAuthMode)),x.setIsCustomMobile(Boolean((r=t.mobileWallets)==null?void 0:r.length)),x.setIsCustomDesktop(Boolean((n=t.desktopWallets)==null?void 0:n.length)),x.setWalletConnectVersion((i=t.walletConnectVersion)!=null?i:1),x.state.isStandalone||(x.setChains(D.client().chains),x.setIsPreferInjected(D.client().isInjectedProviderInstalled()&&v.isPreferInjectedFlag())),t.defaultChain&&x.setSelectedChain(t.defaultChain),v.setWeb3ModalVersionInStorage(),Object.assign(ee,t)}},E=B({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),Mr={state:E,subscribe(t){return W(E,()=>t(E))},getAccount(){const t=D.client().getAccount();E.address=t.address,E.isConnected=t.isConnected},async fetchProfile(t,e){var r;try{E.profileLoading=!0;const n=e??E.address,i=(r=x.state.chains)==null?void 0:r.find(o=>o.id===1);if(n&&i){const o=await D.client().fetchEnsName({address:n,chainId:1});if(o){const s=await D.client().fetchEnsAvatar({name:o,chainId:1});s&&await t(s),E.profileAvatar=s}E.profileName=o}}finally{E.profileLoading=!1}},async fetchBalance(t){try{const{chain:e}=D.client().getNetwork(),{tokenContracts:r}=j.state;let n;e&&r&&(n=r[e.id]),E.balanceLoading=!0;const i=t??E.address;if(i){const o=await D.client().fetchBalance({address:i,token:n});E.balance={amount:o.formatted,symbol:o.symbol}}}finally{E.balanceLoading=!1}},setAddress(t){E.address=t},setIsConnected(t){E.isConnected=t},resetBalance(){E.balance=void 0},resetAccount(){E.address=void 0,E.isConnected=!1,E.profileName=void 0,E.profileAvatar=void 0,E.balance=void 0}},ge="https://explorer-api.walletconnect.com";async function re(t,e){const r=new URL(t,ge);return r.searchParams.append("projectId",j.state.projectId),Object.entries(e).forEach(([n,i])=>{i&&r.searchParams.append(n,String(i))}),(await fetch(r)).json()}const N={async getDesktopListings(t){return re("/w3m/v1/getDesktopListings",t)},async getMobileListings(t){return re("/w3m/v1/getMobileListings",t)},async getInjectedListings(t){return re("/w3m/v1/getInjectedListings",t)},async getAllListings(t){return re("/w3m/v1/getAllListings",t)},getWalletImageUrl(t){return`${ge}/w3m/v1/getWalletImage/${t}?projectId=${j.state.projectId}`},getAssetImageUrl(t){return`${ge}/w3m/v1/getAssetImage/${t}?projectId=${j.state.projectId}`}};var Wr=Object.defineProperty,Ue=Object.getOwnPropertySymbols,Or=Object.prototype.hasOwnProperty,Nr=Object.prototype.propertyIsEnumerable,_e=(t,e,r)=>e in t?Wr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kr=(t,e)=>{for(var r in e||(e={}))Or.call(e,r)&&_e(t,r,e[r]);if(Ue)for(var r of Ue(e))Nr.call(e,r)&&_e(t,r,e[r]);return t};const Se=v.isMobile(),S=B({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),et={state:S,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=j.state;if(t==="NONE"||e==="ALL"&&!t)return S.recomendedWallets;if(v.isArray(t)){const r={recommendedIds:t.join(",")},{listings:n}=await N.getAllListings(r),i=Object.values(n);i.sort((o,s)=>{const l=t.indexOf(o.id),u=t.indexOf(s.id);return l-u}),S.recomendedWallets=i}else{const{standaloneChains:r,walletConnectVersion:n,isAuth:i}=x.state,o=r?.join(","),s=v.isArray(e),l={page:1,sdks:i?"auth_v1":void 0,entries:v.RECOMMENDED_WALLET_AMOUNT,chains:o,version:n,excludedIds:s?e.join(","):void 0},{listings:u}=Se?await N.getMobileListings(l):await N.getDesktopListings(l);S.recomendedWallets=Object.values(u)}return S.recomendedWallets},async getWallets(t){const e=kr({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=j.state,{recomendedWallets:i}=S;if(n==="ALL")return S.wallets;e.search||(i.length?e.excludedIds=i.map(f=>f.id).join(","):v.isArray(r)&&(e.excludedIds=r.join(","))),v.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),x.state.isAuth&&(e.sdks="auth_v1");const{page:o,search:s}=t,{listings:l,total:u}=Se?await N.getMobileListings(e):await N.getDesktopListings(e),c=Object.values(l),h=s?"search":"wallets";return S[h]={listings:[...S[h].listings,...c],total:u,page:o??1},{listings:c,total:u}},async getInjectedWallets(){const{listings:t}=await N.getInjectedListings({}),e=Object.values(t);return S.injectedWallets=e,S.injectedWallets},getWalletImageUrl(t){return N.getWalletImageUrl(t)},getAssetImageUrl(t){return N.getAssetImageUrl(t)},resetSearch(){S.search={listings:[],total:0,page:1}}},H=B({pairingEnabled:!1,pairingUri:"",pairingError:!1}),he={state:H,subscribe(t){return W(H,()=>t(H))},setPairingUri(t){H.pairingUri=t},setPairingError(t){H.pairingError=t},setPairingEnabled(t){H.pairingEnabled=t}},J=B({open:!1}),pe={state:J,subscribe(t){return W(J,()=>t(J))},async open(t){return new Promise(e=>{const{isStandalone:r,isUiLoaded:n,isDataLoaded:i,isPreferInjected:o,selectedChain:s}=x.state,{isConnected:l}=Mr.state,{enableNetworkView:u}=j.state;if(r||he.setPairingEnabled(!0),r)x.setStandaloneUri(t?.uri),x.setStandaloneChains(t?.standaloneChains),$.reset("ConnectWallet");else if(t!=null&&t.route)$.reset(t.route);else if(l)$.reset("Account");else if(u)$.reset("SelectNetwork");else if(o){D.client().connectConnector("injected",s?.id).catch(h=>console.error(h)),e();return}else $.reset("ConnectWallet");const{pairingUri:c}=he.state;if(n&&i&&(r||c||l))J.open=!0,e();else{const h=setInterval(()=>{const f=x.state,g=he.state;f.isUiLoaded&&f.isDataLoaded&&(f.isStandalone||g.pairingUri||l)&&(clearInterval(h),J.open=!0,e())},200)}})},close(){J.open=!1}};var jr=Object.defineProperty,be=Object.getOwnPropertySymbols,Yr=Object.prototype.hasOwnProperty,Vr=Object.prototype.propertyIsEnumerable,Pe=(t,e,r)=>e in t?jr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$r=(t,e)=>{for(var r in e||(e={}))Yr.call(e,r)&&Pe(t,r,e[r]);if(be)for(var r of be(e))Vr.call(e,r)&&Pe(t,r,e[r]);return t};function Kr(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const X=B({themeMode:Kr()?"dark":"light"}),Te={state:X,subscribe(t){return W(X,()=>t(X))},setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(X.themeMode=e),r&&(X.themeVariables=$r({},r))}},V=B({open:!1,message:"",variant:"success"}),rt={state:V,subscribe(t){return W(V,()=>t(V))},openToast(t,e){V.open=!0,V.message=t,V.variant=e},closeToast(){V.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=a),window.global||(window.global=window),window.process||(window.process={env:{}}),window.global||(window.global=window));var zr=Object.defineProperty,Hr=Object.defineProperties,Jr=Object.getOwnPropertyDescriptors,De=Object.getOwnPropertySymbols,Gr=Object.prototype.hasOwnProperty,Xr=Object.prototype.propertyIsEnumerable,Le=(t,e,r)=>e in t?zr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zr=(t,e)=>{for(var r in e||(e={}))Gr.call(e,r)&&Le(t,r,e[r]);if(De)for(var r of De(e))Xr.call(e,r)&&Le(t,r,e[r]);return t},qr=(t,e)=>Hr(t,Jr(e));class tt{constructor(e,r){this.openModal=pe.open,this.closeModal=pe.close,this.subscribeModal=pe.subscribe,this.setTheme=Te.setThemeConfig,this.setDefaultChain=x.setSelectedChain,this.subscribeEvents=Ge.subscribe,Te.setThemeConfig(e),D.setEthereumClient(r),j.setConfig(qr(Zr({},e),{walletConnectVersion:r.walletConnectVersion})),this.initUi()}async initUi(){if(typeof window<"u"){await import("./index-41e14c1e.js");const e=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",e),x.setIsUiLoaded(!0)}}}export{pe as Q,he as U,Mr as V,tt as W,j as b,v as d,$ as f,x as l,D as m,rt as n,et as q,Te as s,Ge as x};
