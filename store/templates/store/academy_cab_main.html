<!DOCTYPE html>
<html lang="en">
    {% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Личный кабинет</title>
    <link rel="shortcut icon" href="{% static 'img/image 1.svg'%}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/academy_cab_main-academy.css'%}">
    <script src="https://forma.tinkoff.ru/static/onlineScript.js"></script>
    
</head>
<body>
    <header class="head_block">
        <nav class="nav_line">
          <div class="logo_block">
            <img src="{% static 'img/burger.svg'%}" alt="" class="menu_drop" />
            <img class="logo" src="{% static 'img/image 1.svg'%}" alt="logo" />
            <div class="logo_text">
              <p class="text1">Бирюзовая</p>
              <p class="text2">Академия</p>
            </div>
          </div>
          <div class="nav_btn_group">
            <ul class="btn_list">
              <li class="main_menu_item">
                <a class="link_img" href="/all_courses.html"
                  ><img
                    class="item_img"
                    src="{% static 'img/marketplace.png'%}"
                    alt=""
                /></a>
              </li>
              <li class="main_menu_item">
                <a class="link_img" href="#"
                  ><img
                    class="item_img"
                    src="{% static 'img/crypto.png'%}"
                    alt=""
                /></a>
              </li>
              <li class="main_menu_item">
                <a class="link_img" href="#"
                  ><img
                    class="item_img"
                    src="{% static 'img/metaverse.png'%}"
                    alt=""
                /></a>
              </li>
              <li class="main_menu_item">
                <a class="link_img" href="#"
                  ><img class="item_img" src="{% static 'img/hrw.png'%}" alt=""
                /></a>
              </li>
            </ul>
            <div class="profile_drop">
              <img
                src="{{ request.user.customer.image.url }}"
                alt=""
                class="profile_img"
              />
              <p class="profile_name">
                Eth address: ...{{ user.username|slice:"-3:" }}
              </p>
              <img
                class="arrow_down"
                src="{% static 'img/arrow_down.png'%}"
                alt=""
              />
            </div>
            <ul class="drop_menu_list">
              <a href="#"
                ><li class="drop_menu_item main">
                  <img
                    class="drop_menu_img"
                    src="{% static 'img/main_icon.png'%}"
                    alt=""
                  />
                  <p class="drop_menu_text">Главная</p>
                </li></a
              >
              <a href="#"
                ><li class="drop_menu_item packets">
                  <img
                    class="drop_menu_img"
                    src="{% static 'img/package_icon.png'%}"
                    alt=""
                  />
                  <p class="drop_menu_text">Пакеты</p>
                </li></a
              >
              <a href="#"
                ><li class="drop_menu_item settings">
                  <img
                    class="drop_menu_img"
                    src="{% static 'img/settings_icon.png'%}"
                    alt=""
                  />
                  <p class="drop_menu_text">Настройки</p>
                </li></a
              >
              <a href="#"
                ><li id="logoutButton" class="drop_menu_item">
                  <img
                    class="drop_menu_img"
                    src="{% static 'img/exit_icon.png'%}"
                    alt=""
                  />
                  <p class="drop_menu_text">Выход</p>
                </li></a
              >
            </ul>
          </div>
        </nav>
      </header>
    <div class="main-block">
        <!-- боковое меню -->
        <div class="side_menu">
            <ul class="menu_group">
                <li class="menu_item study_btn">
                    <div class="study">
                        <img class="item_menu_img" src="{% static 'img/study.png'%}" alt="">
                    </div>
                    <a href="#"><p class="item_text">Обучение</p></a>
                </li>
                <li class="menu_item practic_btn">
                    <div class="study">
                        <img class="item_menu_img" src="{% static 'img/practic.png'%}" alt="">
                    </div>
                    <a href="#"><p class="item_text">Практика</p></a>
                </li>
                <li class="menu_item desitions_btn">
                    <div class="study">
                        <img class="item_menu_img" src="{% static 'img/desitions.png'%}" alt="">
                    </div>
                    <a href="#"><p class="item_text">Мои успехи</p></a>
                </li>
                <li class="menu_item partnership_btn">
                    <div class="study">
                        <img class="item_menu_img" src="{% static 'img/partnership.png'%}" alt="">
                    </div>
                    <a href="#"><p class="item_text">Партнерство</p></a>
                </li>
                <li class="menu_item home_work_btn">
                    <div class="study">
                        <img class="item_menu_img" src="{% static 'img/home_work.png'%}" alt="">
                    </div>
                    <a href="#"><p class="item_text">Чат по ДЗ</p></a>
                </li>
                <li class="menu_item support_btn">
                    <div class="study">
                        <img class="item_menu_img" src="{% static 'img/support.png'%}" alt="">
                    </div>
                    <a href="#"><p class="item_text">Поддержка</p></a>
                </li>
            </ul>
        </div>
        <div class="main_display">
            <!-- главная -->
            <div class="main_page">
                <div class="user_dashbord_blocks">
                    <div class="user_info_block">
                        <img src="{{ request.user.customer.image.url }}" alt="" class="profile_img_big">
                            <ul class="info_list">
                                <li class="info_item">
                                        <p class="info_lable">Username:</p>
                                        <p class="info_text">Eth address: ...{{ user.username|slice:"-3:" }}</p>
                                </li>
                                    <li class="info_item">
                                        <p class="info_lable">First/Last name:</p>
                                        <p class="info_text">{{ request.user.customer.first_name}}
                                            {{request.user.customer.last_name}}</p>
                                </li>
                                    <li class="info_item">
                                        <p class="info_lable">Mobile:</p>
                                        <p class="info_text">{{ request.user.customer.mobile}}</p>
                                </li>
                                    <li class="info_item">
                                        <p class="info_lable">Referal code:</p>
                                        <p class="info_text">{{ request.user.customer.referral_code}}</p>
                                </li>
                                    <li class="info_item">
                                        <p class="info_lable">Status:</p>
                                        <p class="info_text">{{ request.user.customer.status}}</p>
                                </li>
                                    <li class="info_item">
                                        <p class="info_lable">Leader:</p>
                                        <p class="info_text">{{ request.user.customer.referral_by.name}}</p>
                                </li>
                            </ul>
                    </div>
                <div class="dashbord">
                    <p class="dashbord_title">Ваша статистика</p>
                    <ul class="dashbord_text">
                        <li class="dashbord_item">
                            <p class="dashbord_lable">Привелчено людей:</p>
                            <p class="dashbord_text1 leads">0 человек</p>
                        </li>
                        <li class="dashbord_item">
                            <p class="dashbord_lable">Уровень сети:</p>
                            <p class="dashbord_text1 level">0 уровень</p>
                        </li>
                        <li class="dashbord_item">
                            <p class="dashbord_lable">Ваш оборот:</p>
                            <div class="dashbord_text_block">
                                <p class="dashbord_text1">0 ₽</p>
                                <p class="dashbord_text2">0 USDT</p>
                                <p class="dashbord_text3">0 TVT</p>
                            </div>
                        </li>
                        <li class="dashbord_item">
                            <p class="dashbord_lable">Оборот рефералов:</p>
                            <div class="dashbord_text_block">
                                <p class="dashbord_text1">0 ₽</p>
                                <p class="dashbord_text2">0 USDT</p>
                                <p class="dashbord_text3">0 TVT</p>
                            </div>
                        </li>
                        <li class="dashbord_item">
                            <p class="dashbord_lable">Бонус с продаж:</p>
                            <div class="dashbord_text_block">
                                <p class="dashbord_text1">0 ₽</p>
                                <p class="dashbord_text2">0 USDT</p>
                                <p class="dashbord_text3">0 TVT</p>
                            </div>
                        </li>
                        <li class="dashbord_item">
                            <p class="dashbord_lable">Бонус с сети:</p>
                            <div class="dashbord_text_block">
                                <p class="dashbord_text1">0 ₽</p>
                                <p class="dashbord_text2">0 USDT</p>
                                <p class="dashbord_text3">0 TVT</p>
                            </div>
                        </li>
                        <li class="dashbord_item">
                            <p class="dashbord_lable">Доступно для вывода:</p>
                            <div class="dashbord_text_block">
                                <p class="dashbord_text1">0 ₽</p>
                                <p class="dashbord_text2">0 USDT</p>
                                <p class="dashbord_text3">0 TVT</p>
                            </div>
                        </li>
                        <li class="dashbord_item btn_wth">
                            <button class="dashbord_btn_withdraw">
                                <p class="dashbord_btn_withdraw_text">Вывести средства</p>
                            </button>
                        </li>
                    </ul>
                </div>
                </div>
                <div class="weekly_board">
                <ul class="weakly_lessons_board_text">
                    {% for day_schedule in schedule_by_days %}
                    <li class="weakly_lessons_item">
                        <div class="mondey_title_block">
                            <p class="mondey_title">{{ day_schedule.day }}</p>
                            <div class="weakly_lessons_underline"></div>
                        </div>
                        {% for lesson in day_schedule.lessons %}
                        <div class="{% if forloop.first %}lesson_block_main{% else %}lesson_block{% endif %}">
                            <div class="lessons_info_block">
                                <p class="lessons_info_time">{{ lesson.start_time }}-{{ lesson.end_time }}</p>
                                <p class="lessons_info_subj">{{ lesson.course.name|truncatechars:10 }}...</p>
                                <div class="lessons_info_subj_full_block">
                                    <p class="lessons_info_subj_full">{{ lesson.course.name }}</p>
                                </div>
                            </div>
                            <div class="weakly_lessons_underline"></div>
                        </div>
                        {% endfor %}
                    </li>
                    {% endfor %}
                </ul>
                </div>
            </div>
            <!-- настройки -->
            <div class="settings_page">
                <form method="POST" name="UpdateCustomerForm" enctype="multipart/form-data">
                    {% csrf_token %}
                <div class="personal_block">
                <p class="person_info_title">Персональная информация</p>
                <div class="person_info_block">
                    <div class="img_profile_block">
                    <img class="profile_img_set" src="{{ request.user.customer.image.url }}" id="profileImage">
                    <p class="img_desc">Ваше фото профиля</p>
                    <input name="image" type="file" id="fileInput" style="display: none;" >
                    </div>
                    <div class="first_block">
                        <div class="base_info_block">
                            <p class="base_title">Базовая информация:</p>
                            {% if request.user.customer.registred %} {% else %}
                            <div class="ref_group">
                                <p class="ref">Реферальный код</p>
                                <input
                        type="text"
                        name="referrer_code"
                        value="{{ request.user.customer.referrer_code }}"
                        placeholder=""
                        class="input_block"
                      />
                            </div>
                            {% endif %}
                            <div class="name_group">
                                <p class="name">Имя</p>
                                <input
                        type="text"
                        name="first_name"
                        value="{{ request.user.customer.first_name }}"
                        title="Введите ваше имя"
                        placeholder=""
                        class="input_block"
                      />
                            </div>
                            <div class="Surname_group">
                                <p class="surname">Фамилия</p>
                                <input
                                type="text"
                                name="last_name"
                                value="{{ request.user.customer.last_name }}"
                                title="Введите вашу фамилию"
                                placeholder=""
                                class="input_block"
                              />
                            </div>
                        </div>
                        <div class="contact_info_block">
                            <p class="contact_title">Контактные данные:</p>
                            <div class="mail_group">
                                <p class="mail">Email</p>
                                <input
                        type="email"
                        name="email"
                        value="{{ request.user.customer.email }}"
                        title="Электронная почта для связи"
                        required
                        placeholder=""
                        class="input_block"
                      />
                            </div>
                            <div class="phone_group">
                                <p class="phone">Телефон</p>
                                <input
                        type="mobile"
                        name="mobile"
                        value="{{ request.user.customer.mobile }}"
                        title="Мобильный телефон для связи"
                        placeholder=""
                        class="input_block"
                      />
                            </div>
                        </div>
                    </div>
                    <div class="second_block">
                        <div class="location_info_block">
                            <p class="location_title">Месторасположение:</p>
                      <div class="country_group">
                        <p class="country">Страна</p>
                        <select name="country" id="countrySelect" value="{{ request.user.customer.country }}" class="input_block">
                            <option value="{{ request.user.customer.country }}" disabled selected>Выберите страну</option>
                            <optgroup label="СНГ">
                                <option value="Россия" {% if request.user.customer.country == 'Россия' %}selected{% endif %}>Россия</option>
                                <option value="Украина" {% if request.user.customer.country == 'Украина' %}selected{% endif %}>Украина</option>
                                <option value="Беларусь" {% if request.user.customer.country == 'Беларусь' %}selected{% endif %}>Беларусь</option>
                                <option value="Казахстан" {% if request.user.customer.country == 'Казахстан' %}selected{% endif %}>Казахстан</option>
                            </optgroup>
                            <optgroup label="Европа">
                                <option value="Германия" {% if request.user.customer.country == 'Германия' %}selected{% endif %}>Германия</option>
                                <option value="Франция" {% if request.user.customer.country == 'Франция' %}selected{% endif %}>Франция</option>
                                <option value="Италия" {% if request.user.customer.country == 'Италия' %}selected{% endif %}>Италия</option>
                                <option value="Великобритания" {% if request.user.customer.country == 'Великобритания' %}selected{% endif %}>Великобритания</option>
                            </optgroup>
                            <optgroup label="Азия">
                                <option value="Китай" {% if request.user.customer.country == 'Китай' %}selected{% endif %}>Китай</option>
                                <option value="Япония" {% if request.user.customer.country == 'Япония' %}selected{% endif %}>Япония</option>
                                <option value="Индия" {% if request.user.customer.country == 'Индия' %}selected{% endif %}>Индия</option>
                                <option value="Южная Корея" {% if request.user.customer.country == 'Южная Корея' %}selected{% endif %}>Южная Корея</option>
                            </optgroup>
                        </select>
                        </div>
                      <div class="zipcode_group">
                        <p class="zipcode">Город</p>
                        <select value="{{ request.user.customer.zipcode }}" name="city" class="input_block" id="citySelect">
                            <option value="{{ request.user.customer.zipcode }}" disabled selected>Выберите город</option>
                          
                        </select>
                    </div>
                        </div>
                        <div class="wallet_info_block">
                            <div class="wallet_group">
                                <p class="walet_title">Кошелёк:</p>
                                <p class="wallet">Адрес кошелька Metamask</p>
                                <input
                                type="text"
                                name="wallet"
                                value="{{ request.user.customer.wallet }}"
                                title="Enter the address of your Metamask wallet"
                                placeholder=""
                                class="input_block"
                              />
                            </div>
                        </div>
                    </div>
                </div>
                <button class="save_btn"><p class="save_btn_text">Сохранить</p></button>
                </div>
                </form>
                    {% if form.errors %}
                    {% for field in form %}
                        {% for error in field.errors %}
                            <div class="alert alert-danger">{{ error }}</div>
                        {% endfor %}
                    {% endfor %}
                {% endif %}
            </div>
            <!-- пакеты -->
            <div class="packets_page">
                <div class="packets_content">
                    <p class="packets_title">Выберите ваше направление</p>
                    <div class="slider_block">
                    <div id="slider-container">
                        <div id="slider">
                            <div class="slide" >
                                <div class="slide_main_text_block">
                                <p class="slide_title">Партнерство</p>
                                <p class="slide_text">Стань партнером проекта Бирюзовая Академия и зарабатывай привлекая единомышлеников.</p>
                                </div>
                                <div class="slide_info_block">
                                <p class="courses_num">Зарабатывай привлекая</p>
                                <div class="price_text_block one">
                                    <p class="price_text">5000 руб.<p class="month_num"></p></p>
                                </div>
                                    <ul class="btn_group">
                                        <li class="btn_item" ><tinkoff-create-button
                                            size="S"
                                            subtext=""
                                            shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                            showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                           
                                            payment-data="sms&initialStage=filling&items.0.name=Статус 'Партнер'&items.0.price=5000&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=5000"
                                            ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                            ></tinkoff-create-button></li>

                                        <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                        <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="slide" >
                                <div class="slide_main_text_block">
                                <p class="slide_title">Менеджмент</p>
                                <p class="slide_text">Управление организацией и ресурсами для достижения целей и эффективного руководства.</p>
                                </div>
                                <div class="slide_info_block">
                                <p class="courses_num">15 курсов</p>
                                <div class="price_text_block">
                                    <p class="price_text">6048 руб./мес<p class="month_num">на 24 мес.</p></p>
                                </div>
                                <ul class="btn_group">
                                    <li class="btn_item" ><tinkoff-create-button
                                        size="S"
                                        subtext=""
                                        shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                        showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                       
                                        payment-data="sms&initialStage=filling&items.0.name=ДО 'Менеджмент'&items.0.price=145152&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=145152"
                                        ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                        ></tinkoff-create-button></li>

                                    <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                    <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                </ul>
                                </div>
                            </div>
                            <div class="slide" >
                                <div class="slide_main_text_block">
                                <p class="slide_title">Самопознание</p>
                                <p class="slide_text">Познание себя для личного роста и развития, повышения самосознания и понимания.</p>
                                </div>
                                <div class="slide_info_block">
                                    <p class="courses_num">15 курсов</p>
                                    <div class="price_text_block">
                                        <p class="price_text">6048 руб./мес<p class="month_num">на 24 мес.</p></p>
                                    </div>
                                    <ul class="btn_group">
                                        <li class="btn_item" ><tinkoff-create-button
                                            size="S"
                                            subtext=""
                                            shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                            showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                           
                                            payment-data="sms&initialStage=filling&items.0.name=ДО 'Самопознание'&items.0.price=145152&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=145152"
                                            ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                            ></tinkoff-create-button></li>

                                        <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                        <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                    </ul>
                                    </div>
                            </div>
                            <div class="slide" >
                                <div class="slide_main_text_block">
                                <p class="slide_title">Маркетинг</p>
                                <p class="slide_text">Наши курсы помогут вам стать мастером в продвижении и создании бренда, независимо от сферы деятельности.
                                </p>
                                </div>
                                <div class="slide_info_block">
                                    <p class="courses_num">15 курсов</p>
                                    <div class="price_text_block">
                                        <p class="price_text">6048 руб./мес<p class="month_num">на 24 мес.</p></p>
                                    </div>
                                    <ul class="btn_group">
                                        <li class="btn_item" ><tinkoff-create-button
                                            size="S"
                                            subtext=""
                                            shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                            showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                           
                                            payment-data="sms&initialStage=filling&items.0.name=ДО 'Маркетинг'&items.0.price=145152&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=145152"
                                            ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                            ></tinkoff-create-button></li>

                                        <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                        <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                    </ul>
                                    </div>
                            </div>
                            <div class="slide">
                                <div class="slide_main_text_block">
                                <p class="slide_title">Продюсирование</p>
                                <p class="slide_text">Вы сможете освоить искусство создания и управления проектами, будь то медиа-контент или события.
                                </p>
                                </div>
                                <div class="slide_info_block">
                                    <p class="courses_num">15 курсов</p>
                                    <div class="price_text_block">
                                        <p class="price_text">6048 руб./мес<p class="month_num">на 24 мес.</p></p>
                                    </div>
                                    <ul class="btn_group">
                                        <li class="btn_item" ><tinkoff-create-button
                                            size="S"
                                            subtext=""
                                            shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                            showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                           
                                            payment-data="sms&initialStage=filling&items.0.name=ДО 'Продюсирование'&items.0.price=145152&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=145152"
                                            ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                            ></tinkoff-create-button></li>

                                        <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                        <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                    </ul>
                                    </div>
                            </div>
                            <div class="slide" >
                                <div class="slide_main_text_block">
                                <p class="slide_title">Детское направление</p>
                                <p class="slide_text">Мы предлагаем специализированные программы для развития мощности потенциала ребенка.</p>
                                </div>
                                <div class="slide_info_block">
                                    <p class="courses_num">15 курсов</p>
                                    <div class="price_text_block">
                                        <p class="price_text">6048 руб./мес<p class="month_num">на 24 мес.</p></p>
                                    </div>
                                    <ul class="btn_group">
                                        <li class="btn_item" ><tinkoff-create-button
                                            size="S"
                                            subtext=""
                                            shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                            showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                           
                                            payment-data="sms&initialStage=filling&items.0.name=ДО 'Детское'&items.0.price=145152&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=145152"
                                            ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                            ></tinkoff-create-button></li>

                                        <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                        <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                    </ul>
                                    </div>
                            </div>
                            <div class="slide" >
                                <div class="slide_main_text_block">
                                <p class="slide_title">Продажи</p>
                                <p class="slide_text">Быть на строне клиента - это бирюзовый подход. Мы расскажем, как это делать.
                                </p>
                                </div>
                                <div class="slide_info_block">
                                    <p class="courses_num">15 курсов</p>
                                    <div class="price_text_block">
                                        <p class="price_text">6048 руб./мес<p class="month_num">на 24 мес.</p></p>
                                    </div>
                                    <ul class="btn_group">
                                        <li class="btn_item" ><tinkoff-create-button
                                            size="S"
                                            subtext=""
                                            shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                            showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                           
                                            payment-data="sms&initialStage=filling&items.0.name=ДО 'Продажи'&items.0.price=145152&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=145152"
                                            ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                            ></tinkoff-create-button></li>

                                        <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                        <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                    </ul>
                                    </div>
                            </div>
                            <div class="slide" >
                                <div class="slide_main_text_block">
                                <p class="slide_title">IT направление</p>
                                <p class="slide_text">Оставайтесь в курсе современных технологий и освойте навыки, востребованные в мире цифровой трансформации.
                                </p>
                                </div>
                                <div class="slide_info_block">
                                    <p class="courses_num">15 курсов</p>
                                    <div class="price_text_block">
                                        <p class="price_text">6048 руб./мес<p class="month_num">на 24 мес.</p></p>
                                    </div>
                                    <ul class="btn_group">
                                        <li class="btn_item" ><tinkoff-create-button
                                            size="S"
                                            subtext=""
                                            shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                            showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                           
                                            payment-data="sms&initialStage=filling&items.0.name=ДО 'Информаницонные Технологии'&items.0.price=145152&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=145152"
                                            ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                            ></tinkoff-create-button></li>

                                        <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                        <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                    </ul>
                                    </div>
                            </div>
                            <div class="slide" >
                                <div class="slide_main_text_block">
                                <p class="slide_title">Экономика</p>
                                <p class="slide_text">Узнайте, как сохранять баланс между материальным и духовным.
                                </p>
                                </div>
                                <div class="slide_info_block">
                                    <p class="courses_num">15 курсов</p>
                                    <div class="price_text_block">
                                        <p class="price_text">6048 руб./мес<p class="month_num">на 24 мес.</p></p>
                                    </div>
                                    <ul class="btn_group">
                                        <li class="btn_item" ><tinkoff-create-button
                                            size="S"
                                            subtext=""
                                            shopId="b846bfc3-b390-4e5f-a0c3-db7c584b6afb"
                                            showcaseId="a10e81c0-a515-45c9-bb24-5a5f2091b2bf"
                                           
                                            payment-data="sms&initialStage=filling&items.0.name=ДО 'Экономика'&items.0.price=145152&items.0.quantity=1&promoCode=installment_0_0_24_20,5&sum=145152"
                                            ui-data="productType=installment&useReturnLinks=true&view=newTab"
                                            ></tinkoff-create-button></li>

                                        <li class="btn_item"><div class="btn_full_price"><p class="btn_text">Купить за полную стоимость</p></div></li>
                                        <li class="btn_item"><div class="btn_crypto"><p class="btn_text">Купить за USDT</p></div></li>
                                        </ul>
                                        </div>
                                </div>
                            </div>
                        </div>
                        <div class="btn_slider_block">
                            <img class="slider_btn" onclick="prevSlide()" src="{% static 'img/arrow_btn_prew.png'%}"  alt="">
                            <img class="slider_btn" onclick="nextSlide()" src="{% static 'img/arrow_btn_next.png'%}" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <!-- обучение -->
            <div class="study_page">
                <div class="study_content">
                <div class="title_menu_block">
                    <p class="study_title">Ваше направление {{ study_group_direction }}</p>
                </div>
                <ul class="potok_menu_group">
                    {% for stream in study_group_direction_streams %}
                    <a href="#">
                        <li class="potok_item {% if stream.name == 'Поток 1' %}first{% endif %}{% if stream.name == 'Поток 2' %}second{% endif %}{% if stream.name == 'Поток 3' %}third{% endif %}{% if stream.open_status %} open{% endif %}" data-stream-id="{{ stream.id }}">
                            <img class="potok_img" src="{% if stream.open_status %}{% static 'img/knock_open.png'%}{% else %}{% static 'img/knock_close.png'%}{% endif %}" alt="">
                            <div class="potok_text_block">
                                <p class="potok_text">{{ stream.name }}</p>
                                <div class="underline"></div>
                            </div>
                        </li>
                    </a>
                    {% endfor %}
                </ul>
                <div class="potok_block">
                        <div class="drop_block">
                            <div class="courses_drop_block" >
                                <p class="courses_drop_text">Выберите курс</p>
                                <div class="drop_courses">
                                    <p class="courses_text">Ваш курс</p>
                                    <img class="courses_drop_img_p1" src="{% static 'img/arrow_down.png'%}" alt="">
                                </div>
                            
                                <ul class="drop_courses_list">
                                    {% comment %} здесь список курсов в li 
                                    <li class="drop_courses_item main" >
                                        <p class="drop_courses_text">Здесь должно быть название курса</p>
                                    </li>  {% endcomment %}
                                
                                </ul>
                            
                        
                            </div>
                            <div class="lessons_drop_block">
                                <p class="lessons_drop_text">Выберите урок</p>
                                <div class="drop_lessons">
                                    {% comment %} <img class="lessons_drop_img_knock" src="{% static 'img/knock_open.png'%}" alt=""> {% endcomment %}
                                    <p class="lessons_text" >Ваш урок</p>
                                    <img class="lessons_drop_img_p1" src="{% static 'img/arrow_down.png'%}" alt="">
                                </div>
                                <ul class="drop_lessons_list" >
                                        
                                        {% comment %} <li class="drop_lessons_item main">
                                            <img class="lessons_drop_img_knock" src="{% static 'img/knock_open.png'%}" alt="">
                                            <p class="drop_lessons_text">ммыы</p>
                                        </li> {% endcomment %}
                                    
                                </ul>
                            </div>
                        </div>
                        <div class="topic_drop_block">
                            <p class="topic_title">Тема урока “Название темы урока”</p>
                            <div class="topic_dropdown">
                                <div id="first_topic" class="dropdown_topic_item">
                                    <div class="text_item_topic">
                                        <p class="name_item_topic">Кабинет Zoom</p>
                                        <img class="item_topic_img" src="{% static 'img/dropdown_arrow.png'%}" alt="">
                                    </div>
                                </div>
                                <div class="item_container_topic">
                                    <ul class="topick_group">
                                        <div class="mess_text_info">
                                            <div class="mess">
                                                <img src="{% static 'img/zoom.png'%}" alt="" class="file_img">
                                                <div type="">
                                                    
                                                    <a class="file_link" href="" >&#10149; Здесь ссылка на zoom урок</a>
                                                
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                </div>
                                <div id="midle_topic" class="dropdown_topic_item">
                                    <div class="text_item_topic">
                                        <p class="name_item_topic">Запись урока</p>
                                        <img class="item_topic_img" src="{% static 'img/dropdown_arrow.png'%}" alt="">
                                    </div>
                                </div>
                                <div class="item_container_topic">
                                    <ul class="topick_group">
                                        <li class="topick_name">&#10149; Здесь актуальная запись zoom урока</li>
                                        <iframe class="video_block animate__animated animate__fadeInUp" width="350" height="270" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                          
                                    </ul>
                                </div>
                                <div id="last_topic" class="dropdown_topic_item">
                                    <div class="text_item_topic">
                                        <p class="name_item_topic">Домашнее задание</p>
                                        <img class="item_topic_img" src="{% static 'img/dropdown_arrow.png'%}" alt="">
                                    </div>
                                </div>
                                <div class="item_container_topic">
                                    <ul class="group_hw">
                                        <li class="topic_name_hw">&#10149; Здесь домашнее задание к уроку</li>
                                        <p class="homework_text"></p>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                
                    </div>
            </div>
            <!-- практика -->
            <div class="practic_page">
                практика
            </div>
            <!-- достижение -->
            <div class="desitions_page">
                успехи
            </div>
            <!-- партнерство -->
            <div class="partnership_page">
                партнерство
            </div>
            <!-- чат по дз -->
            <div class="home_work_page">
                <div class="home_work_content">
                    <p class="home_work_title">Чат с преподавателями академии</p>
                    <div class="chat_block">
                   <!-- Отображение для студента -->
                                {% if is_student %}
                                <div class="rooms_block">
                                    <div class="title_rooms_block">
                                        <p class="title_rooms mentors">Преподаватели</p>
                                    </div>
                                    <ul class="rooms">
                                        {% for user in users %}
                                            {% if user.status == 'Преподаватель' %}
                                                <li class="chat_room mentor_room">
                                                    <img src="{% static 'img/никита.jpg' %}" alt="" class="chat_img">
                                                    <div class="chat_info">
                                                        <p class="name_person">{{ user.first_name }} {{ user.last_name }}</p>
                                                        <!-- Дополнительные данные для преподавателя -->
                                                        <p class="info_person">{% if user.courses %}"{{ user.courses.name|truncatechars:15 }}"{% endif %}</p>
                                                    </div>
                                                    <div class="mess_income"><p class="mess_numb">1</p></div>
                                                </li>
                                            {% endif %}
                                        {% endfor %}
                                    </ul>
                                </div>
                                {% else %}
                                <!-- Отображение для преподавателя -->
                                <div class="rooms_block">
                                    <div class="title_rooms_block">
                                        <p class="title_rooms students">Студенты</p>
                                    </div>
                                    <ul class="rooms">
                                        {% for user in users %}
                                            {% if user.status == 'Студент' %}
                                                <li class="chat_room student_room">
                                                    <img src="{% static 'img/никита.jpg' %}" alt="" class="chat_img">
                                                    <div class="chat_info">
                                                        <p class="name_person">{{ user.first_name }} {{ user.last_name }}</p>
                                                        <!-- Дополнительные данные для студента -->
                                                        <p class="info_person">"Напр. {{ user.direction.name }}"</p>
                                                    </div>
                                                    <div class="mess_income"><p class="mess_numb">1</p></div>
                                                </li>
                                            {% endif %}
                                        {% endfor %}
                                    </ul>
                                </div>
                                {% endif %}

                                                    
                                                        
                        <div class="back_btn"><img class="back_btn_img" src="{% static 'img/arrow_btn_prew.png' %}" alt=""><p class="back_btn_text">Все чаты</p></div>
                        <div class="chat_desk_block">
                            <ul class="mess_block" id="messageList">
                                <!-- <li class="ask_block">
                                    <img src="/img/никита.jpg" alt="" class="ask_user_img">
                                    <div class="mess_text_info">
                                        <div class="mess">
                                        <p class="text_mess">Привет! Как дела? Как ты, что нового, что будем делать?</p>
                                        </div>
                                        <p class="date_text">30 Дек. 18:30</p>
                                    </div>
                                </li>
                                <li class="answ_block">
                                    <div class="mess_text_info">
                                        <div class="mess">
                                        <p class="text_mess">Привет! Хорошо</p>
                                        </div>
                                        <p class="date_text">30 Дек. 18:31</p>
                                    </div>
                                    <img src="/img/никита.jpg" alt="" class="answ_user_img">
                                </li> -->
                                <!-- <li class="answ_block_file">
                                    <div class="mess_text_info">
                                        <div class="mess">
                                        <video src="/img/РечьУрок1.mov" alt="" class="file_sent" controls="controls"></video>
                                        </div>
                                        <p class="date_text">30 Дек. 18:31</p>
                                    </div>
                                    <img src="/img/никита.jpg" alt="" class="answ_user_img">
                                </li> -->
                                <!-- <li class="ask_block_file">
                                    <img src="/img/никита.jpg" alt="" class="answ_user_img">
                                    <div class="mess_text_info">
                                        <div class="mess">
                                        <img src="/img/send_arrow.png" alt="" class="file_sent">
                                        </div>
                                        <p class="date_text">30 Дек. 18:31</p>
                                    </div>
                                    
                                </li>  -->
                                

                                <!-- <li class="answ_block_file">
                                    <div class="mess_text_info">
                                        <div class="mess">
                                            <img src="/img/file.png" alt="" class="file_img">
                                            <div src="/img/Оферта ИП 890409100814.pdf" type="">
                                                <a class="file_link" href="/img/Оферта ИП 890409100814.pdf">название файла.формат</a>
                                            </div>
                                        </div>
                                        <p class="date_text">30 Дек. 18:31</p>
                                    </div>
                                    <img src="/img/никита.jpg" alt="" class="answ_user_img">
                                </li> -->
                                
                            </ul>
                            <div class="nav_panel">
                                <div class="add_btn" id="uploadElement">
                                    <img src="{% static 'img/add_media.png'%}" alt="" class="add_btn_img">
                                </div>
                                <input class="input_mess" type="text" placeholder="Напишите свой текст здесь...">
                                <div class="send_btn" id="sendBtn">
                                    <img src="{% static 'img/send_arrow.png'%}" alt="" class="send_btn_img">
                                </div>
                                <!-- Элемент для загрузки файла -->
                                <input type="file" id="fileInput" style="display: none;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- поддержка -->
            <div class="support_page">
                поддержка
            </div>
        </div>
    </div>
    <script src="{% static 'js/side_menu_hover-academy.js'%}"></script>
    <script src="{% static 'js/drop_menu_cab-academy.js'%}"></script>
    <script src="{% static 'js/study_page_cab-academy.js'%}"></script>
    <script src="{% static 'js/package_page.js'%}"></script>
    <script src="{% static 'js/chat-academy.js'%}"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

{% comment %} скрипты для обучения {% endcomment %}
<script>
    $(document).ready(function() {
        var activeStreamId = $('.potok_item.open').data('stream-id');
    
        function loadLessons(courseId, streamId) {
            console.log('Loading lessons for Course ID:', courseId, 'and Stream ID:', streamId);
    
            var blockSelector = '.drop_lessons_list';
    
            $.ajax({
                url: '/get_lessons/',
                type: 'GET',
                data: {'course_id': courseId, 'stream_id': streamId},
                success: function(data) {
                    var lessonsHtml = '';
                    $.each(data.lessons, function(index, lesson) {
                        lessonsHtml += '<li class="drop_lessons_item main" data-lesson-id="' + lesson.id + '">';
                        lessonsHtml += '<p class="drop_lessons_text">' + lesson.name + '</p>';
                        lessonsHtml += '</li>';
                    });
                    $(blockSelector).html(lessonsHtml);
    
                    $(blockSelector).on('click', '.drop_lessons_item', function() {
                        var lessonId = $(this).data('lesson-id');
                        var lessonName = $(this).find('.drop_lessons_text').text();
                        $('.lessons_text').text(lessonName);
                        console.log('Selected Lesson ID:', lessonId);
                        console.log('Selected Lesson Name:', lessonName);
                    });
                },
                error: function(error) {
                    console.log(error);
                }
            });
        }
    
        $('.drop_courses_list').on('click', '.drop_courses_item', function() {
            var courseId = $(this).data('course-id');
            var streamId = activeStreamId;
            loadLessons(courseId, streamId);
    
            // Устанавливаем текст "Ваш урок" в элементе с классом "lessons_text"
            $('.lessons_text').text('Ваш урок');
        });
    
        $('.potok_item').on('click', function() {
            activeStreamId = $(this).data('stream-id');
            var blockSelector = '.drop_lessons_list';
            $(blockSelector).html('');
        });
    });
    
</script>

<script>
    $(document).ready(function() {
        // Функция для загрузки курсов по потоку
        function loadCourses(streamId) {
            var blockSelector = '.drop_courses_list';  // Изменено на '.drop_courses_list'
            
            $.ajax({
                url: '/get_courses/',
                type: 'GET',
                data: {'stream_id': streamId},  // Заменено на 'stream-id'
                success: function(data) {
                    var coursesHtml = '';
                    $.each(data.courses, function(index, course) {
                        // Добавляем атрибут data-course-id
                        coursesHtml += '<li class="drop_courses_item main" data-course-id="' + course.id + '">';
                        coursesHtml += '<p class="drop_courses_text">' + course.name + '</p>';
                        coursesHtml += '</li>';
                    });
                    $(blockSelector).html(coursesHtml);
    
                    // Обработка кликов на элементах .drop_courses_item
                    $(blockSelector).on('click', '.drop_courses_item', function() {
                        var courseId = $(this).data('course-id');
                        var courseName = $(this).find('.drop_courses_text').text();
                        $('.courses_text').text(courseName);
                        console.log('Selected Course ID:', courseId);
                        console.log('Selected Course Name:', courseName);
                    });
                },
                error: function(error) {
                    console.log(error);
                }
            });
        }
    
        // Загрузка курсов при загрузке страницы
        loadCourses($('.first.open').data('stream-id'));
    
        // Обработка кликов на элементах .first.open, .second.open, .third.open
        $('.first.open, .second.open, .third.open').on('click', function() {
            var streamId = $(this).data('stream-id');  // Заменено на 'stream-id'
            loadCourses(streamId);
        });


         // Обработка кликов на элементах .first.open, .second.open, .third.open
         $('.first.open, .second.open, .third.open').on('click', function() {
            var streamId = $(this).data('stream-id');
            loadCourses(streamId);
    
            // Отображение "Ваш курс" и "Ваш урок"
            $('.courses_text').text('Ваш курс');
            $('.lessons_text').text('Ваш урок');
            $('.topic_title').text('Тема урока “Название темы урока”'); 
        });
    });
    
</script>
    


<script>
    // отображение содержимого уроков
    $('.drop_lessons_list').on('click', '.drop_lessons_item', function() {
        var lessonId = $(this).data('lesson-id');
    
        $.ajax({
            url: '/get_lesson_details/' + lessonId + '/',
            type: 'GET',
            success: function(data) {
                var lessonTopicTitle = 'Тема урока "' + data.lesson_topic + '"';
                $('.topic_title').text(lessonTopicTitle);
    
                $('.file_link').attr('href', data.zoom_rec);
                $('.homework_text').text(data.homework);
    
                // Очищаем содержимое .video_block перед добавлением новых видео
                $('.topick_group .video_block').remove();
    
                if (data.video_links && data.video_links.length > 0) {
                    // Обходим список видео и добавляем каждую ссылку в .topick_group
                    for (var i = 0; i < data.video_links.length; i++) {
                        var videoLink = data.video_links[i];
                        if (videoLink) {
                            var iframe = $('<iframe>', {
                                class: 'video_block animate__animated animate__fadeInUp',
                                width: '350',
                                height: '270',
                                src: videoLink,
                                frameborder: 0,
                                allow: 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share',
                                allowfullscreen: true
                            });
    
                            // Добавляем iframe в .topick_group после элемента с классом topick_name
                            $('.topick_group .topick_name').after(iframe);
                        }
                    }
                } else {
                    // Если видео-ссылок нет, вы можете отобразить сообщение или выполнить другие действия
                    $('.topick_group').append('<p>No videos available</p>');
                }
            },
            error: function(error) {
                console.log(error);
            }
        });
    });
    
    
</script>

{% comment %} скрипт для кприто входа {% endcomment %}

    <script type="module">
        import {
          EthereumClient,
          w3mConnectors,
          w3mProvider,
          WagmiCore,
          WagmiCoreChains,
          WagmiCoreConnectors,
        } from "https://unpkg.com/@web3modal/ethereum";
  
        import { Web3Modal } from "https://unpkg.com/@web3modal/html";
  
        // Equivalent to importing from @wagmi/core
        const { configureChains, createConfig, getAccount, disconnect } =
          WagmiCore;
  
        // Equivalent to importing from @wagmi/core/chains
        const { mainnet, polygon, avalanche, arbitrum, bsc } = WagmiCoreChains;
  
        // Equivalent to importing from @wagmi/core/providers
        const { CoinbaseWalletConnector } = WagmiCoreConnectors;
  
        window.process = {
          env: {
            NODE_ENV: "development",
          },
        };
  
        const chains = [arbitrum, mainnet, polygon, bsc];
        const projectId = "0b1e5c998294f163bf1af4d05e11e4c1";
  
        const { publicClient, connect } = configureChains(chains, [
          w3mProvider({ projectId }),
        ]);
        const wagmiConfig = createConfig({
          autoConnect: true,
          connectors: w3mConnectors({ projectId, chains }),
          publicClient,
        });
        const ethereumClient = new EthereumClient(wagmiConfig, chains);
        const web3modal = new Web3Modal({ projectId }, ethereumClient);
        const logoutButton = document.getElementById("logoutButton");
  
        // Add a click event listener to the logoutButton
        logoutButton.addEventListener("click", handleLogout);
  
        // Define the logout handler function
        async function handleLogout() {
          try {
            // Disconnect from the wallet connection
            await disconnect();
            // Redirect to the /logout page or any other desired action
            window.location.href = "/logout";
          } catch (error) {
            console.error("Error disconnecting:", error);
          }
        }
    </script>


        <script>
            //код к чату
            document.addEventListener('DOMContentLoaded', function() {
                var addBtn = document.querySelector('.add_btn');
                var sendBtn = document.querySelector('.send_btn');
                var inputMess = document.querySelector('.input_mess');
                var messageList = document.querySelector('.mess_block');
            
                addBtn.addEventListener('click', function() {
                    var fileInput = document.createElement('input');
                    fileInput.type = 'file';
                    fileInput.accept = 'image/*, video/*, application/*'; // Разрешаем загрузку изображений, видео и PDF-файлов
            
                    fileInput.addEventListener('change', function() {
                        handleFile(fileInput.files[0]);
                    });
            
                    fileInput.click();
                });
            
                sendBtn.addEventListener('click', function() {
                    sendMessage();
                });
            
                inputMess.addEventListener('keydown', function(event) {
                    if (event.key === 'Enter') {
                        sendMessage();
                    }
                });
            
                function sendMessage() {
                    var messageText = inputMess.value;
                    if (messageText.trim() !== '') {
                        var maxLength = 32;
                        var formattedText = formatText(messageText, maxLength);
            
                        // Распознавание ссылок и их оборачивание в тег <a>
                        formattedText = linkify(formattedText);
            
                        var messageItem = document.createElement('li');
                        messageItem.classList.add('answ_block');
                        messageItem.innerHTML = `
                            <div class="mess_text_info">
                                <div class="mess">
                                    <p class="text_mess">${formattedText}</p>
                                </div>
                                <p class="date_text">${getCurrentDate()}</p>
                            </div>
                            <img src="/img/никита.jpg" alt="" class="answ_user_img">
                        `;
                        messageList.appendChild(messageItem);
                        inputMess.value = '';
                    }
                }
                
                function formatText(text, maxLength) {
                    // Функция для форматирования текста
                    // Если длина текста больше maxLength, добавляем переносы строки
                    if (text.length > maxLength) {
                        var result = '';
                        for (var i = 0; i < text.length; i++) {
                            result += text[i];
                            if ((i + 1) % maxLength === 0) {
                                result += '\n';
                            }
                        }
                        return result;
                    }
                    return text;
                }
            
                function linkify(text) {
                    // Регулярное выражение для распознавания ссылок
                    var urlRegex = /(?:https?|ftp):\/\/[^\s/$.?#].[^\s]*/g;
                    return text.replace(urlRegex, function (url) {
                        return `<a href="${url}" target="_blank" class="link_mess">${url}</a>`;
                    });
                }
                
                
                
                
                
            
                function handleFile(file) {
                    if (file) {
                        var reader = new FileReader();
                        reader.onload = function (e) {
                            var fileItem = document.createElement('li');
                            fileItem.classList.add('answ_block_file');
                
                            var fileName = file.name.length > 23 ? file.name.substring(0, 23) + '\n' + file.name.substring(23) : file.name;
                
                            if (file.type.startsWith('image/')) {
                                // Если файл - изображение
                                fileItem.innerHTML = `
                                    <div class="mess_text_info">
                                        <div class="mess">
                                            <img src="${e.target.result}" alt="" class="file_sent">
                                        </div>
                                        <p class="date_text">${getCurrentDate()}</p>
                                    </div>
                                    <img src="/img/никита.jpg" alt="" class="answ_user_img">
                                `;
                            } else if (file.type.startsWith('video/')) {
                                // Если файл - видео
                                fileItem.innerHTML = `
                                    <div class="mess_text_info">
                                        <div class="mess">
                                            <video src="${e.target.result}" alt="" class="file_sent" controls></video>
                                        </div>
                                        <p class="date_text">${getCurrentDate()}</p>
                                    </div>
                                    <img src="/img/никита.jpg" alt="" class="answ_user_img">
                                `;
                            } else {
                                // Если файл - PDF, docx или другой тип
                                fileItem.innerHTML = `
                                    <div class="mess_text_info">
                                        <div class="mess">
                                            <img src="/img/file.png" alt="" class="file_img">
                                            <div>
                                                <a class="file_link" href="${e.target.result}" target="_blank">${fileName}</a>
                                            </div>
                                        </div>
                                        <p class="date_text">${getCurrentDate()}</p>
                                    </div>
                                    <img src="/img/никита.jpg" alt="" class="answ_user_img">
                                `;
                            }
                
                            messageList.appendChild(fileItem);
                        };
                        reader.readAsDataURL(file);
                    }
                }
            
                function getCurrentDate() {
                    var currentDate = new Date();
                    var options = { day: 'numeric', month: 'short', hour: '2-digit', minute: '2-digit' };
                    return currentDate.toLocaleString('ru-RU', options);
                }
            });
            
        </script>

        {% comment %} скрипты к настройкам {% endcomment %}
                  
        <script>
            $(document).ready(function () {
                // Обработчик события изменения страны
                $('#countrySelect').change(function () {
                    // Очищаем текущий список городов
                    $('#citySelect').empty();

                      // Добавляем фразу "Выберите город"
                     $('#citySelect').append('<option value="" disabled selected>Выберите город</option>');

        
                    // Получаем выбранную страну
                    var selectedCountry = $(this).val();
        
                    // Добавляем города в зависимости от выбранной страны
                    if (selectedCountry === 'Россия') {
                        $('#citySelect').append('<option value="Москва">Москва</option>');
                        $('#citySelect').append('<option value="Санкт-Петербург">Санкт-Петербург</option>');
                        $('#citySelect').append('<option value="Новосибирск">Новосибирск</option>');
                        $('#citySelect').append('<option value="Екатеринбург">Екатеринбург</option>');
                        $('#citySelect').append('<option value="Нижний Новгород">Нижний Новгород</option>');
                        $('#citySelect').append('<option value="Казань">Казань</option>');
                        $('#citySelect').append('<option value="Челябинск">Челябинск</option>');
                        $('#citySelect').append('<option value="Омск">Омск</option>');
                        $('#citySelect').append('<option value="Самара">Самара</option>');
                        $('#citySelect').append('<option value="Ростов-на-Дону">Ростов-на-Дону</option>');
                        $('#citySelect').append('<option value="Владивосток">Владивосток</option>');
                        $('#citySelect').append('<option value="Красноярск">Красноярск</option>');
                        $('#citySelect').append('<option value="Уфа">Уфа</option>');
                        $('#citySelect').append('<option value="Пермь">Пермь</option>');
                        $('#citySelect').append('<option value="Воронеж">Воронеж</option>');
                    } else if (selectedCountry === 'Украина') {
                        $('#citySelect').append('<option value="Киев">Киев</option>');
                        $('#citySelect').append('<option value="Харьков">Харьков</option>');
                        $('#citySelect').append('<option value="Одесса">Одесса</option>');
                        $('#citySelect').append('<option value="Днепр">Днепр</option>');
                        $('#citySelect').append('<option value="Донецк">Донецк</option>');
                        $('#citySelect').append('<option value="Запорожье">Запорожье</option>');
                        $('#citySelect').append('<option value="Львов">Львов</option>');
                        $('#citySelect').append('<option value="Кривой Рог">Кривой Рог</option>');
                        $('#citySelect').append('<option value="Николаев">Николаев</option>');
                        $('#citySelect').append('<option value="Мариуполь">Мариуполь</option>');
                        $('#citySelect').append('<option value="Луцк">Луцк</option>');
                        $('#citySelect').append('<option value="Хмельницкий">Хмельницкий</option>');
                        $('#citySelect').append('<option value="Чернигов">Чернигов</option>');
                        $('#citySelect').append('<option value="Житомир">Житомир</option>');
                        $('#citySelect').append('<option value="Полтава">Полтава</option>');
                    } else if (selectedCountry === 'Германия') {
                        $('#citySelect').append('<option value="Берлин">Берлин</option>');
                        $('#citySelect').append('<option value="Гамбург">Гамбург</option>');
                        $('#citySelect').append('<option value="Мюнхен">Мюнхен</option>');
                        $('#citySelect').append('<option value="Кёльн">Кёльн</option>');
                        $('#citySelect').append('<option value="Франкфурт">Франкфурт</option>');
                        $('#citySelect').append('<option value="Штутгарт">Штутгарт</option>');
                        $('#citySelect').append('<option value="Дюссельдорф">Дюссельдорф</option>');
                        $('#citySelect').append('<option value="Ганновер">Ганновер</option>');
                        $('#citySelect').append('<option value="Нюрнберг">Нюрнберг</option>');
                        $('#citySelect').append('<option value="Лейпциг">Лейпциг</option>');
                        $('#citySelect').append('<option value="Ганновер">Ганновер</option>');
                        $('#citySelect').append('<option value="Дортмунд">Дортмунд</option>');
                        $('#citySelect').append('<option value="Штутгарт">Штутгарт</option>');
                        $('#citySelect').append('<option value="Эссен">Эссен</option>');
                        $('#citySelect').append('<option value="Бремен">Бремен</option>');
                        $('#citySelect').append('<option value="Ганновер">Ганновер</option>');
                    } else if (selectedCountry === 'Франция') {
                        $('#citySelect').append('<option value="Париж">Париж</option>');
                        $('#citySelect').append('<option value="Марсель">Марсель</option>');
                        $('#citySelect').append('<option value="Лион">Лион</option>');
                        $('#citySelect').append('<option value="Тулуза">Тулуза</option>');
                        $('#citySelect').append('<option value="Ницца">Ницца</option>');
                        $('#citySelect').append('<option value="Бордо">Бордо</option>');
                        $('#citySelect').append('<option value="Лилль">Лилль</option>');
                        $('#citySelect').append('<option value="Страсбург">Страсбург</option>');
                        $('#citySelect').append('<option value="Монако">Монако</option>');
                        $('#citySelect').append('<option value="Лозанна">Лозанна</option>');
                        $('#citySelect').append('<option value="Ницца">Ницца</option>');
                        $('#citySelect').append('<option value="Лион">Лион</option>');
                        $('#citySelect').append('<option value="Марсель">Марсель</option>');
                        $('#citySelect').append('<option value="Тулуза">Тулуза</option>');
                        $('#citySelect').append('<option value="Бордо">Бордо</option>');
                        $('#citySelect').append('<option value="Лилль">Лилль</option>');
                        $('#citySelect').append('<option value="Страсбург">Страсбург</option>');
                        $('#citySelect').append('<option value="Монако">Монако</option>');
                        $('#citySelect').append('<option value="Лозанна">Лозанна</option>');
                    } else if (selectedCountry === 'Китай') {
                        $('#citySelect').append('<option value="Пекин">Пекин</option>');
                        $('#citySelect').append('<option value="Шанхай">Шанхай</option>');
                        $('#citySelect').append('<option value="Гуанчжоу">Гуанчжоу</option>');
                        $('#citySelect').append('<option value="Шэньчжэнь">Шэньчжэнь</option>');
                        $('#citySelect').append('<option value="Тяньцзинь">Тяньцзинь</option>');
                        $('#citySelect').append('<option value="Гонконг">Гонконг</option>');
                        $('#citySelect').append('<option value="Макао">Макао</option>');
                        $('#citySelect').append('<option value="Чунцин">Чунцин</option>');
                        $('#citySelect').append('<option value="Ханчжоу">Ханчжоу</option>');
                        $('#citySelect').append('<option value="Нанкин">Нанкин</option>');
                        $('#citySelect').append('<option value="Чэнду">Чэнду</option>');
                        $('#citySelect').append('<option value="Сиань">Сиань</option>');
                        $('#citySelect').append('<option value="Ханчжоу">Ханчжоу</option>');
                        $('#citySelect').append('<option value="Чунцин">Чунцин</option>');
                        $('#citySelect').append('<option value="Нанкин">Нанкин</option>');
                        $('#citySelect').append('<option value="Чэнду">Чэнду</option>');
                        $('#citySelect').append('<option value="Сиань">Сиань</option>');
                    } else if (selectedCountry === 'Япония') {
                        $('#citySelect').append('<option value="Токио">Токио</option>');
                        $('#citySelect').append('<option value="Йокогама">Йокогама</option>');
                        $('#citySelect').append('<option value="Осака">Осака</option>');
                        $('#citySelect').append('<option value="Киото">Киото</option>');
                        $('#citySelect').append('<option value="Саппоро">Саппоро</option>');
                        $('#citySelect').append('<option value="Нагоя">Нагоя</option>');
                        $('#citySelect').append('<option value="Фукуока">Фукуока</option>');
                        $('#citySelect').append('<option value="Осака">Осака</option>');
                        $('#citySelect').append('<option value="Сэндай">Сэндай</option>');
                        $('#citySelect').append('<option value="Кобе">Кобе</option>');
                        $('#citySelect').append('<option value="Киото">Киото</option>');
                        $('#citySelect').append('<option value="Саппоро">Саппоро</option>');
                        $('#citySelect').append('<option value="Нагоя">Нагоя</option>');
                        $('#citySelect').append('<option value="Фукуока">Фукуока</option>');
                        $('#citySelect').append('<option value="Сэндай">Сэндай</option>');
                        $('#citySelect').append('<option value="Кобе">Кобе</option>');
                    }
                });
            });
        </script>
        
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const fileInput = document.getElementById('fileInput');
                const profileImage = document.getElementById('profileImage');
        
                // Обработчик изменения файла
                fileInput.addEventListener('change', function () {
                    // Проверяем, что файл был выбран
                    if (fileInput.files.length > 0) {
                        const file = fileInput.files[0];
        
                        // Показываем превью выбранного изображения
                        const reader = new FileReader();
                        reader.onload = function (e) {
                            profileImage.src = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                });
        
                // Обработчик клика на изображение
                profileImage.addEventListener('click', function () {
                    // Открываем файловый менеджер для выбора файла
                    fileInput.click();
                });
            });
        </script>
        
</body>
</html>
