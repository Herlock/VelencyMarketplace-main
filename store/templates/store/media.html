<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <title>Home</title>
    <meta charset="UTF-8" />
    <link
      rel="shortcut icon"
      href="{% static 'media/logo.png' %}"
      type="image/png"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
  </head>
  <body class="body">
    <div class="buttonsmenu">
      <a class="logo" href="{% url 'index' %}">
        <img src="{% static 'media/logo.png' %}" />
      </a>

      <a class="menu mar" href="#personalinformation">
        <img src="{% static 'media/11.svg' %}" />
      </a>

      <a class="menu" href="#balances">
        <img src="{% static 'media/2.svg' %}" />
      </a>

      <a class="menu" href="#myteam">
        <img src="{% static 'media/3.svg' %}" />
      </a>
    </div>

    <div class="main">
      <nav class="nav">
        <div class="buttons">
          <button class="but" type="button" onclick="goToStore()">
            <img class="icon" src="{% static 'media/market.svg' %}" alt="" />
          </button>
          <button class="but" type="button">
            <img class="icon" src="{% static 'media/finance.svg' %}" alt="" />
          </button>
          <div>
            <button class="but down" type="button">
              <img
                class="icon"
                src="{% static 'media/community.svg' %}"
                alt=""
              />
              <img class="row" src="{% static 'media/row.svg' %}" alt="" />
            </button>
            <ul class="dropdown-list1">
              <li class="dropdown-list-item" data-value="area">
                <img src="{% static 'media/teacher.png' %}" />
                <a href="{% url 'trainers' %}">Trainers</a>
              </li>
              <li class="dropdown-list-item" data-value="packages">
                <img src="{% static 'media/blog.png' %}" />
                <a href="{% url 'index' %}">Blog</a>
              </li>
            </ul>
          </div>
          <button class="but" type="button">
            <img class="icon" src="{% static 'media/project.svg' %}" alt="" />
          </button>

          <div class="form-group">
            <div class="dropdown"></div>
            <button class="signin button_drop">
              <img
                class="photo button_drop"
                src="{{ request.user.customer.image.url }}"
                alt=""
              />
              <p class="button_drop">
                Eth address: ...{{ user.username|slice:"-3:" }}
              </p>
              <img
                class="row button_drop"
                src="{% static 'media/row.svg' %}"
                alt=""
              />
            </button>
            <ul class="dropdown-list2">
              <li class="dropdown-list-item" data-value="area">
                <img src="{% static 'media/area.png' %}" />
                <a href="{% url 'my_profile' %}">Personal area</a>
              </li>
              <li class="dropdown-list-item" data-value="packages">
                <img src="{% static 'media/packages.png' %}" />
                <a href="{% url 'tariffs' %}">Packages</a>
              </li>
              <li class="dropdown-list-item" data-value="settings">
                <img src="{% static 'media/settings.png' %}" />
                <a href="{% url 'profile' %}">Settings</a>
              </li>
              <li class="dropdown-list-item" data-value="exit">
                <img src="{% static 'media/clock.png' %}" />
                <a
                  href="https://www.notion.so/Talentverse-df0a7fb38cc84dcbbb66488d77e84300"
                  >Schedule</a
                >
              </li>
              <li
                class="dropdown-list-item"
                data-value="exit"
                id="logoutButton"
              >
                <img src="{% static 'media/exit.png' %}" />
                <a href="{% url 'logout' %}">Exit</a>
              </li>
            </ul>
          </div>

          <button class="burger" type="button">
            <img class="icon" src="{% static 'media/burger.svg' %}" alt="" />
          </button>
        </div>
      </nav>
      {% block content %} {% endblock content %}
    </div>
  </body>
  <script>
    function goToStore() {
      window.location.href = "{% url 'index' %}";
    }
  </script>
  <script type="module">
    import {
      EthereumClient,
      w3mConnectors,
      w3mProvider,
      WagmiCore,
      WagmiCoreChains,
      WagmiCoreConnectors,
    } from "https://unpkg.com/@web3modal/ethereum";

    import { Web3Modal } from "https://unpkg.com/@web3modal/html";

    // Equivalent to importing from @wagmi/core
    const { configureChains, createConfig, getAccount, disconnect } = WagmiCore;

    // Equivalent to importing from @wagmi/core/chains
    const { mainnet, polygon, avalanche, arbitrum, bsc } = WagmiCoreChains;

    // Equivalent to importing from @wagmi/core/providers
    const { CoinbaseWalletConnector } = WagmiCoreConnectors;

    window.process = {
      env: {
        NODE_ENV: "development",
      },
    };

    const chains = [arbitrum, mainnet, polygon, bsc];
    const projectId = "0b1e5c998294f163bf1af4d05e11e4c1";

    const { publicClient } = configureChains(chains, [
      w3mProvider({ projectId }),
    ]);
    const wagmiConfig = createConfig({
      autoConnect: true,
      connectors: w3mConnectors({ projectId, chains }),
      publicClient,
    });
    const ethereumClient = new EthereumClient(wagmiConfig, chains);
    const web3modal = new Web3Modal({ projectId }, ethereumClient);

    const logoutButton = document.getElementById("logoutButton");

    // Add a click event listener to the logoutButton
    logoutButton.addEventListener("click", handleLogout);

    // Define the logout handler function
    function handleLogout() {
      // Disconnect from the wallet connection (replace with the actual disconnect function)
      disconnect();

      // Redirect to the /logout page
      window.location.href = "/logout";
    }
  </script>
</html>
