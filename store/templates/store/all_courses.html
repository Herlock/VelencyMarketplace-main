<!DOCTYPE html>
<html lang="en">
    {% load static %} 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Все курсы</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/all_courses-academy.css'%}">
</head>
<body>
    <header class="header">
        <div class="container">
    <div data-wow-duration="5s" class="nav animate__animated animate__fadeIn">
        <a href="{% url 'academy' %}"><img class="logo" src="{% static 'img/image 1.svg'%}" alt="logo"></a>
        <div class="logo_text">
            <a href="{% url 'academy' %}"><p class="text1">Бирюзовая</p></a>
               <a href="{% url 'academy' %}"><p class="text2">Академия</p></p></a>
        </div>
        <ul class="menu">
            <li>
                <a href="{% url 'academy2' %}">Об академи</a>
            </li>
            <li>
                <a href="{% url 'all_courses' %}">Направления</a>            </li>
            <li>
                <a href="{% url 'index' %}">Метавселенная</a>
            </li>
            <li>
                <a href="{% url 'store' %}">Маркетплейс</a>
            </li>
        </ul>
        <button id="navButton" class="nav_btn">
            <p class="nav_btn_text">Начать бесплатно</p>
        </button>
        <button id="menu-open" class="menu-open">
                <img id="menu_img" class="menu_img" src="{% static 'img/burger.svg'%}" alt="burger_menu_img">
        </button>
    </div>
        </div>
    </header>
    <div class="courses">
        <ul id="show-menu" class="show-menu">
            <li id="navButtonMobile" class="login_btn">
                <p class="login_btn_text">Начать бесплатно</p>
            </li>
            <li>
                <a href="{% url 'academy2' %}">Об академии</a>
            </li>
            <li>
                <a href="{% url 'all_courses' %}">Направления</a>
            </li>
            <li>
                <a href="{% url 'index' %}">Метавселенная</a>
            </li>
            <li>
                <a href="{% url 'store' %}">Маркетплейс</a>
            </li>
            <li class="support_btn">
                <a class="support_btn_text" href="{% url 'contact' %}">Связатся с нами</a>
            </li>
        </ul>
        <div class="courses_block">
            <div class="title_block">
            <p class="courses_title">Все направления</p>
            <div class="divider_title"></div>
            </div>
            <div id="courses_card_block" class="courses_card_block animate__animated animate__fadeIn" data-wow-duration="5s">
                <div class="selfgrow_block">
                    <a href='/course/3'>
                    <div class="img_text_group">
                        <img class="round_icon" src="{% static 'img/icon_round.svg'%}" alt="bg_courses_icon">
                        <img class="courses_icon" src="{% static 'img/selfgrow_image.svg'%}" alt="course_icon">
                        <div class="selfgrow_desc">
                            <p class="selfgrow_title">Самопознание</p>
                            <p class="selfgrow_text">Понимание себя - это ключ к успеху. У нас вы найдете курсы, помогающие раскрыть свой потенциал и развить лидерские качества.
                            </p>
                        </div>
                        <div class="small_text">
                            <p class="numb_courses">15 Курсов</p>
                            <div class="price_courses">
                                <p class="price1">6048 &#8381;/мес</p>&nbsp;&nbsp;
                                <p class="price2">на 24 мес.</p>
                            </div>
                        </div>
                    </div>
                    </a>
                </div>
                <div class="market_block">
                    <a href='/course/2'><div class="img_text_group">
                        <img class="round_icon" src="{% static 'img/icon_round.svg'%}" alt="bg_courses_icon">
                        <img class="courses_icon" src="{% static 'img/market_image.svg'%}" alt="course_icon">
                        <div class="market_desc">
                            <p class="market_title">Маркетинг</p>
                            <p class="market_text">Наши курсы помогут вам стать мастером в продвижении и создании бренда, независимо от сферы деятельности.
                            </p>
                        </div>
                        <div class="small_text">
                            <p class="numb_courses">15 Курсов</p>
                            <div class="price_courses">
                                <p class="price1">6048 &#8381;/мес</p>&nbsp;&nbsp;
                                <p class="price2">на 24 мес.</p>
                            </div>
                        </div>
                    </div>
                    </a>
                </div>
                <div class="sales_block">
                    <a href='/course/4'><div class="img_text_group">
                        <img class="round_icon" src="{% static 'img/icon_round.svg'%}" alt="bg_courses_icon">
                        <img class="courses_icon" src="{% static 'img/sales_image.svg'%}" alt="course_icon">
                        <div class="sales_desc">
                            <p class="sales_title">Продажи</p>
                            <p class="sales_text">Убеждение и удовлетворение клиентов через эффективное обслуживание и коммуникации.</p>
                        </div>
                        <div class="small_text">
                            <p class="numb_courses">15 Курсов</p>
                            <div class="price_courses">
                                <p class="price1">6048 &#8381;/мес</p>&nbsp;&nbsp;
                                <p class="price2">на 24 мес.</p>
                            </div>
                        </div>
                    </div>
                    </a>
                </div>
                <div class="child_block">
                    <a href='/course/6'><div class="img_text_group">
                        <img class="round_icon" src="{% static 'img/icon_round.svg'%}" alt="bg_courses_icon">
                        <img class="courses_icon" src="{% static 'img/child_image.svg'%}" alt="course_icon">
                        <div class="child_desc">
                            <p class="child_title">Детское Направление</p>
                            <p class="child_text">Мы предлагаем специализированные программы для развития мощности потенциала ребенка.</p>
                        </div>
                        <div class="small_text">
                            <p class="numb_courses">15 Курсов</p>
                            <div class="price_courses">
                                <p class="price1">3048 &#8381;/мес</p>&nbsp;&nbsp;
                                <p class="price2">на 24 мес.</p>
                            </div>
                        </div>
                    </div>
                    </a>
                </div>
                <div class="manage_block">
                    <a href='/course/1'><div class="img_text_group">
                        <img class="round_icon" src="{% static 'img/icon_round.svg'%}" alt="bg_courses_icon">
                        <img class="courses_icon" src="{% static 'img/manage_image.svg'%}" alt="course_icon">
                        <div class="manage_desc">
                            <p class="manage_title">Менеджмент</p>
                            <p class="manage_text">Узнайте секреты эффективного руководства, которые применимы в любой компании.
                            </p>
                        </div>
                        <div class="small_text">
                            <p class="numb_courses">15 Курсов</p>
                            <div class="price_courses">
                                <p class="price1">6048 &#8381;/мес</p>&nbsp;&nbsp;
                                <p class="price2">на 24 мес.</p>
                            </div>
                        </div>
                    </div>
                    </a>
                </div>
                <div class="pr_block">
                    <a href='/course/8'><div class="img_text_group">
                        <img class="round_icon" src="{% static 'img/icon_round.svg'%}" alt="bg_courses_icon">
                        <img class="courses_icon" src="{% static 'img/pr_image.svg'%}" alt="course_icon">
                        <div class="pr_desc">
                            <p class="pr_title">Продюсирование</p>
                            <p class="pr_text">Вы сможете освоить искусство создания и управления проектами, будь то медиа-контент или события.
                            </p>
                        </div>
                        <div class="small_text">
                            <p class="numb_courses">15 Курсов</p>
                            <div class="price_courses">
                                <p class="price1">6048 &#8381;/мес</p>&nbsp;&nbsp;
                                <p class="price2">на 24 мес.</p>
                            </div>
                        </div>
                    </div>
                    </a>
                </div>
                <div class="finance_block">
                    <a href='/course/5'><div class="img_text_group">
                        <img class="round_icon" src="{% static 'img/icon_round.svg'%}" alt="bg_courses_icon">
                        <img class="courses_icon" src="{% static 'img/finance_image.svg'%}" alt="course_icon">
                        <div class="finance_desc">
                            <p class="finance_title">Экономика</p>
                            <p class="finance_text">Анализ и управление ресурсами, распределение и изучение факторов, влияющих на рыночные процессы.</p>
                        </div>
                        <div class="small_text">
                            <p class="numb_courses">15 Курсов</p>
                            <div class="price_courses">
                                <p class="price1">6048 &#8381;/мес</p>&nbsp;&nbsp;
                                <p class="price2">на 24 мес.</p>
                            </div>
                        </div>
                    </div>
                    </a>
                </div>
                <div class="it_block">
                    <a href='/course/7'><div class="img_text_group">
                        <img class="round_icon" src="{% static 'img/icon_round.svg'%}" alt="bg_courses_icon">
                        <img class="courses_icon" src="{% static 'img/it_image.svg'%}" alt="course_icon">
                        <div class="it_desc">
                            <p class="it_title">IT Направление</p>
                            <p class="it_text">Оставайтесь в курсе современных технологий и освойте навыки, востребованные в мире цифровой трансформации.
                            </p>
                        </div>
                        <div class="small_text">
                            <p class="numb_courses">15 Курсов</p>
                            <div class="price_courses">
                                <p class="price1">6048 &#8381;/мес</p>&nbsp;&nbsp;
                                <p class="price2">на 24 мес.</p>
                            </div>
                        </div>
                    </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="footer_main">
            <div class="footer_box">
            <div data-wow-delay="1s" class="text_block_footer animate__animated animate__fadeInUp">
            <div class="logo_footer">
            <a href="{% url 'academy' %}"><img src="{% static 'img/image 1.svg'%}" alt="logo"></a>
            <div class="logo_text">
                <p class="text1">Бирюзовая</p>
                <p class="text2">Академия</p></p>
            </div>
            </div>
            <div class="footer_second_text_block">
            <div class="footer_text">
            <p class="footer_text1">Никогда не сомневайтесь в своем потенциале! Бирюзовая Академия – это ваш путь к лучшей версии себя.
               <br><p class="footer_text2">#БирюзоваяАкадемия #РаскройСебя</p></p>
               </div>
               <div class="icon_footer_block">
                    <div class="facebook">
                        <div class="round_smm">
                        <a href="#"><img src="{% static 'img/facebook.svg'%}" alt="facebook"></a>
                        </div>
                    </div>
                    <div class="instargram">
                        <div class="round_smm">
                            <a href="https://www.instagram.com/modern.time.academy/"><img src="{% static 'img/instagram.svg'%}" alt="instagram"></a>
                        </div>
                    </div>
                    <div class="telegram">
                        <div class="round_smm">
                            <a href="https://t.me/+Xp5zW6wyF_FmMDU1"><img src="{% static 'img/telegram.svg'%}" alt="telegram"></a>
                        </div>
                    </div>
               </div>
            </div>
            </div>
            <div id="triger_box" data-wow-delay="1s" class="triger_box animate__animated animate__fadeInUp">
            <div  id="footer-triger-title" class="footer-triger-title">
                <span
                  ><span id="span" class="footer-triger-title-span">Готов начать обучение в </span
                  ><span id="span2" class="footer-triger-title-span2">Бирюзовой </span
                  ><span  id="span3" class="footer-triger-title-span3">Академии?</span></span>
              </div>
              <button id="footButton" class="footer_btn wow animate__animated animate__pulse">
                <div class="footer_btn_text_block">
                    <p class="footer_btn_text">Начать бесплатно</p>
                    <img class="btn_arrow_footer" src="{% static 'img/btn_arrow.svg'%}" alt="action_btn_arrow">
                </div>
            </button>
            </div>
            <div data-wow-delay="1s" class="law_info_block animate__animated animate__fadeInUp">
                <ul class="list_info">
                    <li class="ip">ИП Мокрецова Марина Владимировна</li>
                    <li class="inn">ИНН 890409100814</li>
                    <li class="ogrnip">ОГРНИП 323237500416580</li>
                    <li class="number">+995 568 836 179</li>
                    <li class="mail">talentversesup.academy@gmail.com</li>
                </ul>
            </div>
        </div>
        <div class="doc_line">
            <div class="doc_list">
                <a class="docs" href="https://drive.google.com/file/d/1ep8I55KZW_uh3PSI7a44t0Z-8L_dOHS2/view?usp=drive_link">Оферта</a><a class="docs" href="https://drive.google.com/file/d/1nKo_XiytxuVaBBAFqtRZ7jTGuz-mSvlU/view?usp=sharing">Пользовотельское соглашение</a><a class="docs" href="https://drive.google.com/file/d/1rt2P9qtgjZ19m8PzV1sQbahndV5TMws6/view?usp=sharing">Политика конфиденциальности</a><p class="lable" >© 2023 Бирюзовая Академия</p>
            </div>
        </div>
        </div> 
        </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
    <script src="{% static 'js/menu-academy.js'%}"></script>
    <script src="{% static 'js/contact-academy.js'%}"></script>
    <script src="{% static 'js/wow.min.js'%}"></script>
              <script>
              new WOW().init();
              // JavaScript для обработки клика на кнопке и перехода на другую страницу
              document.getElementById("navButton").addEventListener("click", function() {
                // Используйте window.location.href для перехода на другую страницу
                window.location.href = "{% url 'contact' %}"; // Замените "новая_страница.html" на URL вашей целевой страницы
            });
            // JavaScript для обработки клика на кнопке и перехода на другую страницу
            document.getElementById("footButton").addEventListener("click", function() {
                // Используйте window.location.href для перехода на другую страницу
                window.location.href = "{% url 'contact' %}"; // Замените "новая_страница.html" на URL вашей целевой страницы
            });

              </script>
               <script type="module">
           

                import {
                EthereumClient,
                w3mConnectors,
                w3mProvider,
                WagmiCore,
                WagmiCoreChains,
                WagmiCoreConnectors
              } from 'https://unpkg.com/@web3modal/ethereum'
            
              import { Web3Modal } from 'https://unpkg.com/@web3modal/html'
            
              // Equivalent to importing from @wagmi/core
              const { configureChains, createConfig, getAccount,disconnect   } = WagmiCore
            
              // Equivalent to importing from @wagmi/core/chains
              const { mainnet, polygon, avalanche, arbitrum,bsc } = WagmiCoreChains
            
              // Equivalent to importing from @wagmi/core/providers
              const { CoinbaseWalletConnector } = WagmiCoreConnectors
        
              window.process = {
                env: {
                    NODE_ENV: 'development'
                }
              }    
        
              const chains = [arbitrum, mainnet, polygon,bsc]
              const projectId = '0b1e5c998294f163bf1af4d05e11e4c1'
        
              const { publicClient, connect } = configureChains(chains, [w3mProvider({ projectId })]);  
              const wagmiConfig = createConfig({
                autoConnect: true,
                connectors: w3mConnectors({ projectId, chains }),
                publicClient
              })
              const ethereumClient = new EthereumClient(wagmiConfig, chains)
              const web3modal = new Web3Modal({ projectId }, ethereumClient)
    
              {% if not user.is_authenticated %}
                document.getElementById("navButton").addEventListener("click", () => {
                    web3modal.openModal();
                });
          
                // Define the main function to handle wallet connection and authentication/registration
                async function handleWalletConnect() {
                  try {
                    console.log("Wallet button clicked. Connecting to the wallet...");
                    const account = await getAccount();
                    console.log("Account information:", account);
                    window.csrfToken = "{{ csrf_token }}";
                    const csrfToken = window.csrfToken;
    
                    // Проверяем, подключен ли аккаунт
                    if (account.isConnected) {
                      console.log("Account is connected.");
                      const address = account.address;
                      const additionalInfo = "Дополнительная информация";
    
                      // Создаем объект с данными
                      const data = { address, additionalInfo };
    
                      // Создаем объект опций для запроса
                      const options = {
                        method: "POST",
                        headers: {
                          "Content-Type": "application/json",
                          "X-CSRFToken": csrfToken, // Use the correct token value
                        },
                        body: JSON.stringify(data),
                      };
                      
    
                      // Отправляем запрос на сервер Django
                      const response = await fetch("/authenticate_wallet/", options);
                      const json = await response.json();
    
                      if (json.success) {
                        console.log("Authentication or registration success!");
                        window.location.href = "/academy_profile"; // Перенаправляем на нужную страницу после успешного входа
                      } else {
                        console.error("Ошибка авторизации или регистрации:", json.error);
                      }
                    } else {
                      console.log("Account is not connected. Waiting for the connection to complete...");
                      setTimeout(handleWalletConnect, 1000); // Retry after 1 second
                    }
                  } catch (error) {
                    console.error("Ошибка авторизации через WalletConnect:", error);
                  }
                }
    
                // Call the main function to handle wallet connection and authentication/registration
                document.getElementById("navButton").addEventListener("click", handleWalletConnect);
                document.getElementById("navButtonMobile").addEventListener("click", handleWalletConnect);
    
                          
                if (web3modal && web3modal.ethereum) {
                  web3modal.ethereum.on("accountsChanged", (accounts) => {
                    if (accounts.length > 0) {
                              // User is authenticated, redirect or update the page here
                              window.location.href = "/academy_profile"; // Перенаправляем на нужную страницу после успешного входа
                            } else {
                              // User is disconnected
                            }
                          });
                        }
    
                        document.getElementById("navButton").addEventListener("click", () => {
          window.location.href = "/academy_profile";
        });
        document.getElementById("navButtonMobile").addEventListener("click", () => {
          window.location.href = "/academy_profile";
        });

        // Define the main function to handle wallet connection and authentication/registration

                      {% comment %} const logoutButton = document.getElementById('logoutButton');
              
                      // Add a click event listener to the logoutButton
                      logoutButton.addEventListener('click', handleLogout);
                      
                    // Define the logout handler function
                      async function handleLogout() {
                        try {
                          // Disconnect from the wallet connection
                          await disconnect();
                          // Redirect to the /logout page or any other desired action
                          window.location.href = '/logout';
                        } catch (error) {
                          console.error("Error disconnecting:", error);
                        }
                      } {% endcomment %}
                      {%endif%}
    
            </script>
</body>
</html>